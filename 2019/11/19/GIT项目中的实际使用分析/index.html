<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>GIT-项目中的实际使用分析 | 蜗牛君</title>
  
  <meta name="keywords" content="IT民工,技术干货,避坑指南">
  
  

  

  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <!-- meta -->
  

  <!-- link -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.10.1/css/all.min.css">
  

  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.9.9/css/style.css">
  

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>

  
  
</head>

<body>
  
  
  <div class="cover-wrapper">
    <cover class='cover post half'>
      
        
  <h1 class='title'>蜗牛君的NoteBook</h1>


  <div class="m_search">
    <form name="searchform" class="form u-search-form">
      <input type="text" class="input u-search-input" placeholder="" />
      <i class="icon fas fa-search fa-fw"></i>
    </form>
  </div>

<div class='menu navgation'>
  <ul class='h-list'>
    
  </ul>
</div>

      
    </cover>
    <header class="l_header pure">
  <div id="loading-bar-wrapper">
    <div id="loading-bar" class="pure"></div>
  </div>

	<div class='wrapper'>
		<div class="nav-main container container--flex">
      <a class="logo flat-box" href='/' >
        
          蜗牛君
        
      </a>
			<div class='menu navgation'>
				<ul class='h-list'>
          
  					
  						<li>
								<a class="nav flat-box" href="/"
                  
                  
                  id="home">
									<i class='fas fa-grin fa-fw'></i>&nbsp;主页
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/categories/"
                  
                    rel="nofollow"
                  
                  
                  id="categories">
									<i class='fas fa-folder-open fa-fw'></i>&nbsp;分类
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/tags/"
                  
                    rel="nofollow"
                  
                  
                  id="tags">
									<i class='fas fa-hashtag fa-fw'></i>&nbsp;标签
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/archives/"
                  
                    rel="nofollow"
                  
                  
                  id="archives">
									<i class='fas fa-archive fa-fw'></i>&nbsp;归档
								</a>
							</li>
      			
      		
				</ul>
			</div>

			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="Search" />
						<i class="icon fas fa-search fa-fw"></i>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a class="fas fa-search fa-fw" href='javascript:void(0)'></a></li>
				
				<li class='s-menu'><a class="fas fa-bars fa-fw" href='javascript:void(0)'></a></li>
			</ul>
		</div>

		<div class='nav-sub container container--flex'>
			<a class="logo flat-box"></a>
			<ul class='switcher h-list'>
				<li class='s-comment'><a class="flat-btn fas fa-comments fa-fw" href='javascript:void(0)'></a></li>
        
          <li class='s-toc'><a class="flat-btn fas fa-list fa-fw" href='javascript:void(0)'></a></li>
        
			</ul>
		</div>
	</div>
</header>
	<aside class="menu-phone">
    <header>
		<nav class="menu navgation">
      <ul>
        
          
            <li>
							<a class="nav flat-box" href="/"
                
                
                id="home">
								<i class='fas fa-clock fa-fw'></i>&nbsp;近期文章
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/archives/"
                
                  rel="nofollow"
                
                
                id="archives">
								<i class='fas fa-archive fa-fw'></i>&nbsp;文章归档
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/projects/"
                
                
                id="projects">
								<i class='fas fa-code-branch fa-fw'></i>&nbsp;开源项目
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/friends/"
                
                  rel="nofollow"
                
                
                id="friends">
								<i class='fas fa-link fa-fw'></i>&nbsp;我的友链
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="https://xaoxuu.com/wiki/material-x/"
                
                  rel="nofollow"
                
                
                id="https:xaoxuu.comwikimaterial-x">
								<i class='fas fa-book fa-fw'></i>&nbsp;主题文档
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/about/"
                
                  rel="nofollow"
                
                
                id="about">
								<i class='fas fa-info-circle fa-fw'></i>&nbsp;关于小站
							</a>
            </li>
          
       
      </ul>
		</nav>
    </header>
	</aside>
<script>setLoadingBarProgress(40);</script>

  </div>


  <div class="l_body">
    <div class='body-wrapper'>
      <div class='l_main'>
  

  <article id="post" class="post white-box article-type-post" itemscope itemprop="blogPost">
    


  <section class='meta'>
    
    
    <div class="meta" id="header-meta">
      
        
  
    <h1 class="title">
      <a href="/2019/11/19/GIT%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8%E5%88%86%E6%9E%90/">
        GIT-项目中的实际使用分析
      </a>
    </h1>
  


      
      <div class='new-meta-box'>
        
          
        
          
            
  <div class='new-meta-item author'>
    
      <a href="/" rel="nofollow">
        
          <i class="fas fa-user" aria-hidden="true"></i>
        
        <p>蜗牛君</p>
      </a>
    
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
    <p>2019-11-19</p>
  </a>
</div>

          
        
          
            
  
  <div class='new-meta-item category'>
    <a href='/categories/git/' rel="nofollow">
      <i class="fas fa-folder-open" aria-hidden="true"></i>
      <p>git</p>
    </a>
  </div>


          
        
          
            
  
    <div class="new-meta-item browse busuanzi">
      <a class='notlink'>
        <i class="fas fa-eye" aria-hidden="true"></i>
        <p>
          <span id="busuanzi_value_page_pv">
            <i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i>
          </span>
        </p>
      </a>
    </div>
  


          
        
          
            

          
        
      </div>
      
        <hr>
      
    </div>
  </section>


    <section class="article typo">
      <div class="article-entry" itemprop="articleBody">
        <h1 id="GIT-项目中的实际使用分析"><a href="/2019/11/19/GIT项目中的实际使用分析/#GIT-项目中的实际使用分析" class="headerlink" title="GIT-项目中的实际使用分析"></a>GIT-项目中的实际使用分析</h1><p>本文转载自<a href="https://www.jianshu.com/p/92305d949c0e">看完，我不信你不会GIT！！！</a></p>
<p>写得非常的详细,分析很到位,很容易理解</p>
<h4 id="一、常用命令介绍"><a href="/2019/11/19/GIT项目中的实际使用分析/#一、常用命令介绍" class="headerlink" title="一、常用命令介绍"></a>一、常用命令介绍</h4><hr>
<h5 id="1-1-命令行介绍"><a href="/2019/11/19/GIT项目中的实际使用分析/#1-1-命令行介绍" class="headerlink" title="1.1 命令行介绍"></a>1.1 命令行介绍</h5><h6 id="1-1-1-Git-全局设置"><a href="/2019/11/19/GIT项目中的实际使用分析/#1-1-1-Git-全局设置" class="headerlink" title="1.1.1 Git 全局设置"></a>1.1.1 Git 全局设置</h6><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --<span class="keyword">global</span> user.name <span class="string">"knight"</span></span><br><span class="line">$ git config --<span class="keyword">global</span> user.email <span class="string">"knight@dayuan.com"</span></span><br></pre></td></tr></table></figure>

<h6 id="1-1-2-创建一个新仓库（本地）"><a href="/2019/11/19/GIT项目中的实际使用分析/#1-1-2-创建一个新仓库（本地）" class="headerlink" title="1.1.2 创建一个新仓库（本地）"></a>1.1.2 创建一个新仓库（本地）</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> http://git.dayuan.cc/practice/git-exmple.git</span><br><span class="line"><span class="built_in">cd</span> git-exmple</span><br><span class="line">$ touch README.md</span><br><span class="line">$ git add README.md</span><br><span class="line">$ git commit -m <span class="string">"add README"</span></span><br><span class="line">$ git push -u origin master</span><br></pre></td></tr></table></figure>

<h6 id="1-1-3-在已存在的目录中创建仓库"><a href="/2019/11/19/GIT项目中的实际使用分析/#1-1-3-在已存在的目录中创建仓库" class="headerlink" title="1.1.3 在已存在的目录中创建仓库"></a>1.1.3 在已存在的目录中创建仓库</h6><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd existing_folder</span><br><span class="line">$ git init</span><br><span class="line">$ git remote <span class="keyword">add</span> origin http:<span class="comment">//git.dayuan.cc/practice/git-exmple.git</span></span><br><span class="line">$ git <span class="keyword">add</span> .</span><br><span class="line">$ git commit -m <span class="string">"Initial commit"</span></span><br><span class="line">$ git push -u origin master</span><br></pre></td></tr></table></figure>

<h6 id="1-1-4-将本地已存在的仓库推送到远程仓库"><a href="/2019/11/19/GIT项目中的实际使用分析/#1-1-4-将本地已存在的仓库推送到远程仓库" class="headerlink" title="1.1.4 将本地已存在的仓库推送到远程仓库"></a>1.1.4 将本地已存在的仓库推送到远程仓库</h6><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd existing_repo</span><br><span class="line">$ git remote rename origin old-origin</span><br><span class="line">$ git remote <span class="keyword">add</span> origin http:<span class="comment">//git.dayuan.cc/practice/git-exmple.git</span></span><br><span class="line">$ git push -u origin --all</span><br><span class="line">$ git push -u origin --tags</span><br></pre></td></tr></table></figure>

<h6 id="1-1-5-查看分支相关命令"><a href="/2019/11/19/GIT项目中的实际使用分析/#1-1-5-查看分支相关命令" class="headerlink" title="1.1.5 查看分支相关命令"></a>1.1.5 查看分支相关命令</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -r; <span class="regexp">//</span>查看远程分支</span><br><span class="line">$ git branch; <span class="regexp">//</span>查看本地分支</span><br><span class="line">$ git branch -a; <span class="regexp">//</span>查看所有分支</span><br></pre></td></tr></table></figure>

<h6 id="1-1-6-拉取远程分支并创建本地分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#1-1-6-拉取远程分支并创建本地分支" class="headerlink" title="1.1.6 拉取远程分支并创建本地分支"></a>1.1.6 拉取远程分支并创建本地分支</h6><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dev2为远程分支,dev1为本地分支</span></span><br><span class="line">$ git checkout -b dev1 origin/dev2;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>从远程分支dev拉取到本地并且创建本地分支dev，且俩者之间建立映射关系,同时当前分支会切换到dev1</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//dev2为远程分支,dev1为本地分支</span></span><br><span class="line">$ git fetch origin dev2:dev1;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>使用该方式会在本地新建分支dev1，但是不会自动切换到该本地分支dev1，需要手动checkout。采用此种方法建立的本地分支不会和远程分支建立映射关系。</code></li>
</ul>
<h6 id="1-1-7-建立本地分支与远程分支的映射关系（或者为跟踪关系track）"><a href="/2019/11/19/GIT项目中的实际使用分析/#1-1-7-建立本地分支与远程分支的映射关系（或者为跟踪关系track）" class="headerlink" title="1.1.7 建立本地分支与远程分支的映射关系（或者为跟踪关系track）"></a>1.1.7 建立本地分支与远程分支的映射关系（或者为跟踪关系track）</h6><ul>
<li>这样使用git pull或者git push时就不必每次都要指定从远程的哪个分支拉取合并和推送到远程的哪个分支了。</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -vv</span><br></pre></td></tr></table></figure>

<ul>
<li><code>输出映射关系</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dev为远程分支名</span></span><br><span class="line">$ git branch -u origin/dev</span><br></pre></td></tr></table></figure>

<ul>
<li><code>将当前本地分支与远程分支建立映射关系</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch --<span class="built_in">unset</span>-upstream</span><br></pre></td></tr></table></figure>

<ul>
<li><code>撤销当前本地分支与远程分支的映射关系</code></li>
</ul>
<h6 id="1-1-8-切换当前本地分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#1-1-8-切换当前本地分支" class="headerlink" title="1.1.8 切换当前本地分支"></a>1.1.8 切换当前本地分支</h6><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dev为本地分支名</span></span><br><span class="line">$ git checkout dev;</span><br></pre></td></tr></table></figure>

<h6 id="1-1-9-拉取远程分支代码"><a href="/2019/11/19/GIT项目中的实际使用分析/#1-1-9-拉取远程分支代码" class="headerlink" title="1.1.9 拉取远程分支代码"></a>1.1.9 拉取远程分支代码</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull</span><br></pre></td></tr></table></figure>

<ul>
<li><code>使用的前提是当前分支需要与远程分支之间建立映射关系</code></li>
</ul>
<h6 id="1-1-10-推送本地分支代码到远程分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#1-1-10-推送本地分支代码到远程分支" class="headerlink" title="1.1.10 推送本地分支代码到远程分支"></a>1.1.10 推送本地分支代码到远程分支</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push</span><br></pre></td></tr></table></figure>

<ul>
<li><code>使用的前提是当前分支需要与远程分支之间建立映射关系</code></li>
</ul>
<h6 id="1-1-11-合并分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#1-1-11-合并分支" class="headerlink" title="1.1.11 合并分支"></a>1.1.11 合并分支</h6><ul>
<li>场景:现在有dev本地分支与远程分支，master本地分支与远程分支<br> 现在将dev的分支代码合并到master主干上</li>
<li>思路步骤 :<br> 1.<code>切换到本地分支dev上，并且pull拉取一下远程dev分支上的改动地方</code><br> 2.<code>将所有本地修改进行commit并且push到远程dev分支上，保证没有遗漏的，确保当前本地dev与远程dev是一致的</code><br> 3.<code>将当前本地分支切换到本地master上</code><br> 4.<code>将本地分支dev合并到本地master上</code><br> 5.<code>将本地已经合并了dev分支的master进行push到远程master上 大概思路就是这样。需要注意的是在进行merge(合并)的时候需要禁用fast-forward模式</code> </li>
<li>具体的合并命令: <code>git merge --no-ff dev (dev为本地被合并的分支名字)</code> </li>
</ul>
<h4 id="二、Gitflow总览"><a href="/2019/11/19/GIT项目中的实际使用分析/#二、Gitflow总览" class="headerlink" title="二、Gitflow总览"></a>二、Gitflow总览</h4><hr>
 <img src="/11/19/GIT项目中的实际使用分析/GIT-项目中的实际使用分析/18747624-2271fe92cb80f2fb-1574136131689.webp" alt="img" style="zoom:67%;"> 

<p>git_flow流程图.png</p>
<p>从上图可以看到主要包含下面几个分支：<br> <code>master</code> : 主分支，主要用来版本发布。<br> <code>develop</code>：日常开发分支，该分支正常保存了开发的最新代码。<br> <code>feature</code>：具体的功能开发分支，只与 develop 分支交互。<br> <code>release</code>：<code>release</code>分支可以认为是<code>master</code> 分支的未测试版。比如说某一期的功能全部开发完成，那么就将 <code>develop</code> 分支合并到 <code>release</code> 分支，测试没有问题并且到了发布日期就合并到<code>master</code> 分支，进行发布。<br> <code>hotfix</code>：线上 bug 修复分支。<br> 除此之后还可以有 <code>fast-track</code> 等分支。</p>
<h5 id="2-1-主分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-1-主分支" class="headerlink" title="2.1 主分支"></a>2.1 主分支</h5><p>主分支包括 <code>master</code> 分支和 <code>develop</code> 分支。<code>master</code> 分支用来发布，<code>HEAD</code> 就是当前线上的运行代码。<code>develop</code>分支就是我们的日常开发。使用这两个分支就具有了最简单的开发模式：<code>develop</code>分支用来开发功能，开发完成并且测试没有问题则将 <code>develop</code>分支的代码合并到 <code>master</code>分支并发布。</p>
<img src="/11/19/GIT项目中的实际使用分析/GIT-项目中的实际使用分析/18747624-c4421d847e40f977.webp" alt="img" style="zoom:67%;">

<p>master-develop.png</p>
<p>这引入了几个问题：</p>
<p><code>develop</code>分支只有发布完了才能进行下一个版本开发，开发会比较缓慢。<br> 线上代码出现 bug 如何进行 bug 修复。<br> 带着这两个问题往下看。</p>
<h5 id="2-2-辅助分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-辅助分支" class="headerlink" title="2.2 辅助分支"></a>2.2 辅助分支</h5><p>主要介绍的辅助分支如下：<br> <code>feature</code>分支<br> <code>release</code>分支<br> <code>hotfix</code>分支<br> 通过这些分支，我们可以做到：团队成员之间并行开发，<code>feature track</code>更加容易，开发和发布并行以及线上问题修复。</p>
<h6 id="2-2-1-Feature-分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-1-Feature-分支" class="headerlink" title="2.2.1 Feature 分支"></a>2.2.1 Feature 分支</h6><p><strong><code>feature</code>分支用来开发具体的功能，一般 fork 自 <code>develop</code>分支，最终可能会合并到<code>develop</code>分支。</strong>比如我们要在下一个版本增加<code>功能1</code>、<code>功能2</code>、<code>功能3</code>。那么我们就可以起三个<code>feature</code>分支：<code>feature1</code>，<code>feature2</code>，<code>feature3</code>。（<code>feature</code>分支命名最好能够自解释，这并不是一种好的命名。）随着我们开发，<code>功能1</code>和<code>功能2</code>都被完成了，而<code>功能3</code>因为某些原因完成不了，那么最终 <code>feature1</code> 和 <code>feature2</code>分支将被合并到 <code>develop</code>分支，而 <code>feature3</code>分支将被干掉。</p>
 <img src="/11/19/GIT项目中的实际使用分析/GIT-项目中的实际使用分析/18747624-c7cefa74f7bd1b0a.webp" alt="img" style="zoom:67%;"> 

<p>develop-feature.png</p>
<p>我们来看几个相关的命令。</p>
<h6 id="2-2-1-1-新建feature分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-1-1-新建feature分支" class="headerlink" title="2.2.1.1 新建feature分支"></a>2.2.1.1 新建feature分支</h6><p>从 <code>develop</code> 分支建一个 <code>feature</code> 分支，并切换到 <code>feature</code> 分支</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b myfeature develop</span><br><span class="line">Switched to a <span class="keyword">new</span> branch <span class="string">"myfeature"</span></span><br></pre></td></tr></table></figure>

<h6 id="2-2-1-2-合并feature-分支到-develop"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-1-2-合并feature-分支到-develop" class="headerlink" title="2.2.1.2 合并feature 分支到 develop"></a>2.2.1.2 合并feature 分支到 develop</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout develop</span><br><span class="line">Switched to branch <span class="string">'develop'</span></span><br><span class="line">$ git merge --no-ff myfeature</span><br><span class="line">Updating ea1b82a..<span class="number">05</span>e9557</span><br><span class="line">(Summary of changes)</span><br><span class="line">$ git branch -d myfeature</span><br><span class="line">Deleted branch myfeature</span><br><span class="line">$ git push origin develop</span><br></pre></td></tr></table></figure>

<p>上面我们 merge 分支的时候使用了参数 <code>--no-ff</code>，<strong>ff</strong> 是<code>fast-forward</code>的意思，<code>--no-ff</code>就是禁用<code>fast-forward</code>。关于这两种模式的区别如下图。（可以使用 sourceTree 或者命令git log –graph查看。）</p>
 <img src="/11/19/GIT项目中的实际使用分析/GIT-项目中的实际使用分析/18747624-f8962786c72acf84.webp" alt="img" style="zoom:67%;"> 

<p>fast-forward模式的效果.png</p>
<p>看了上面的图，那么使用<code>非fast-forward</code>模式来 merge 的好处就不言而喻了：我们知道哪些<code>commit</code> 是某些<code>feature</code> 相关的。虽然 <code>git merge</code>的时候会自动判断是否使用<code>fast-farward</code>模式，但是有时候为了更明确，我们还是要加参数<code>--no-ff</code>或者<code>--ff</code>。</p>
<h6 id="2-2-2-Release-分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-2-Release-分支" class="headerlink" title="2.2.2 Release 分支"></a>2.2.2 Release 分支</h6><p><code>release</code>分支在我看来是 <code>pre-master</code>。<code>release</code>分支从 <code>develop</code> 分支 <code>fork</code> 出来，最终会合并到 <code>develop</code>分支和 <code>master</code>分支。合并到 <code>master</code>分支上就是可以发布的代码了。有人可能会问那为什么合并回 <code>develop</code>分支呢？很简单，有了 <code>release</code>分支，那么相关的代码修复就只会在 <code>release</code>分支上改动了，最后必然要合并到 <code>develop</code>分支。下面细说。</p>
<p>我们最初所有的开发工作都在 <code>develop</code>分支上，当我们这一期的功能开发完毕的时候，我们基于 <code>develop</code>分支开一个新的<code>release</code>分支。这个时候我们就可以对 <code>release</code>分支做统一的测试了，另外做一些发布准备工作：比如版本号之类的。</p>
<p>如果测试工作或者发布准备工作和具体的开发工作由不同人来做，比如国内的 RD 和 QA，这个 RD 就可以继续基于<code>develop</code>分支继续开发了。再或者说公司对于发布有严格的时间控制，开发工作提前并且完美的完成了，这个时候我们就可以在<code>develop</code> 分支上继续我们下一期的开发了。同时如果测试有问题的话，我们将直接在<code>release</code>分支上修改，然后将修改合并到<code>develop</code>分支上。</p>
<p>待所有的测试和准备工作做完之后，我们就可以将 <code>release</code>分支合并到<code>master</code> 分支上，并进行发布了。</p>
<p>一些相关命令如下。</p>
<h6 id="新建-release-分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#新建-release-分支" class="headerlink" title="新建 release 分支"></a>新建 release 分支</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b release-<span class="number">1.2</span> develop</span><br><span class="line">Switched to a new branch <span class="string">"release-1.2"</span></span><br><span class="line">$ ./bump-version.sh <span class="number">1.2</span></span><br><span class="line">File modified successfully, version bumped to <span class="number">1.2</span>.</span><br><span class="line">$ git commit -a -m <span class="string">"Bumped version number to 1.2"</span></span><br><span class="line">[release-<span class="number">1.2</span> <span class="number">74</span>d9424] Bumped version number to <span class="number">1.2</span></span><br><span class="line"><span class="number">1</span> files changed, <span class="number">1</span> insertions(+), <span class="number">1</span> deletions(-)</span><br></pre></td></tr></table></figure>

<h6 id="2-2-2-1-release-分支合并到-master-分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-2-1-release-分支合并到-master-分支" class="headerlink" title="2.2.2.1 release 分支合并到 master 分支"></a>2.2.2.1 release 分支合并到 master 分支</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">Switched to branch <span class="string">'master'</span></span><br><span class="line">$ git merge --no-ff release-<span class="number">1.2</span></span><br><span class="line">Merge made by recursive.</span><br><span class="line">(Summary of changes)</span><br><span class="line">$ git tag -a <span class="number">1.2</span></span><br></pre></td></tr></table></figure>

<h6 id="2-2-2-2-release-分支合并到-develop-分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-2-2-release-分支合并到-develop-分支" class="headerlink" title="2.2.2.2 release 分支合并到 develop 分支"></a>2.2.2.2 release 分支合并到 develop 分支</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout develop</span><br><span class="line">Switched to branch <span class="string">'develop'</span></span><br><span class="line">$ git merge --no-ff release-<span class="number">1.2</span></span><br><span class="line">Merge made by recursive.</span><br><span class="line">(Summary of changes)</span><br></pre></td></tr></table></figure>

<h6 id="2-2-2-3-最后，删除-release-分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-2-3-最后，删除-release-分支" class="headerlink" title="2.2.2.3 最后，删除 release 分支"></a>2.2.2.3 最后，删除 release 分支</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d release-<span class="number">1.2</span></span><br><span class="line">Deleted branch release-<span class="number">1.2</span> (was ff452fe).</span><br></pre></td></tr></table></figure>

<h6 id="2-2-3-Hotfix-分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-3-Hotfix-分支" class="headerlink" title="2.2.3 Hotfix 分支"></a>2.2.3 Hotfix 分支</h6><p>顾名思义，<code>hotfix</code>分支用来修复线上 bug。当线上代码出现 bug 时，我们基于 <code>master</code>分支开一个 <code>hotfix</code>分支，修复 bug 之后再将 <code>hotfix</code>分支合并到<code>master</code>分支并进行发布，同时 <code>develop</code>分支作为最新最全的代码分支，<code>hotfix</code>分支也需要合并到 <code>develop</code>分支上去。仔细想一想，其实 <code>hotfix</code>分支和 <code>release</code>分支功能类似。<code>hotfix</code>的好处是不打断<code>develop</code> 分支正常进行，同时对于生产代码的修复貌似也没有更好的方法了（总不能直接修改 <code>master</code>代码吧）。</p>
 <img src="/11/19/GIT项目中的实际使用分析/GIT-项目中的实际使用分析/18747624-610c3154a556b070.webp" alt="img" style="zoom:67%;"> 

<p>hotfixes.png</p>
<p>一些相关的命令。</p>
<h6 id="2-2-3-1-新建-hotfix-分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-3-1-新建-hotfix-分支" class="headerlink" title="2.2.3.1 新建 hotfix 分支"></a>2.2.3.1 新建 hotfix 分支</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b hotfix-<span class="number">1.2</span>.<span class="number">1</span> master</span><br><span class="line">Switched to a new branch <span class="string">"hotfix-1.2.1"</span></span><br><span class="line">$ ./bump-version.sh <span class="number">1.2</span>.<span class="number">1</span></span><br><span class="line">Files modified successfully, version bumped to <span class="number">1.2</span>.<span class="number">1</span>.</span><br><span class="line">$ git commit -a -m <span class="string">"Bumped version number to 1.2.1"</span></span><br><span class="line">[hotfix-<span class="number">1.2</span>.<span class="number">1</span> <span class="number">41</span>e61bb] Bumped version number to <span class="number">1.2</span>.<span class="number">1</span></span><br><span class="line"><span class="number">1</span> files changed, <span class="number">1</span> insertions(+), <span class="number">1</span> deletions(-)</span><br></pre></td></tr></table></figure>

<h6 id="2-2-3-2-Fix-bug"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-3-2-Fix-bug" class="headerlink" title="2.2.3.2 Fix bug"></a>2.2.3.2 Fix bug</h6><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m <span class="string">"Fixed severe production problem"</span></span><br><span class="line">[<span class="meta">hotfix-1.2.1 abbe5d6</span>] Fixed severe production problem</span><br><span class="line"><span class="number">5</span> files changed, <span class="number">32</span> insertions(+), <span class="number">17</span> deletions(-)</span><br></pre></td></tr></table></figure>

<h6 id="2-2-3-3-buffix-之后，hotfix-合并到-master"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-3-3-buffix-之后，hotfix-合并到-master" class="headerlink" title="2.2.3.3 buffix 之后，hotfix 合并到 master"></a>2.2.3.3 buffix 之后，hotfix 合并到 master</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">Switched to branch <span class="string">'master'</span></span><br><span class="line">$ git merge --no-ff hotfix-<span class="number">1.2</span>.<span class="number">1</span></span><br><span class="line">Merge made by recursive.</span><br><span class="line">(Summary of changes)</span><br><span class="line">$ git tag -a <span class="number">1.2</span>.<span class="number">1</span></span><br></pre></td></tr></table></figure>

<h6 id="2-2-3-4-hotfix-合并到-develop-分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-3-4-hotfix-合并到-develop-分支" class="headerlink" title="2.2.3.4 hotfix 合并到 develop 分支"></a>2.2.3.4 hotfix 合并到 develop 分支</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout develop</span><br><span class="line">Switched to branch <span class="string">'develop'</span></span><br><span class="line">$ git merge --no-ff hotfix-<span class="number">1.2</span>.<span class="number">1</span></span><br><span class="line">Merge made by recursive.</span><br><span class="line">(Summary of changes)</span><br></pre></td></tr></table></figure>

<h6 id="2-2-3-5-删除-hotfix-分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#2-2-3-5-删除-hotfix-分支" class="headerlink" title="2.2.3.5 删除 hotfix 分支"></a>2.2.3.5 删除 hotfix 分支</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d hotfix-<span class="number">1.2</span>.<span class="number">1</span></span><br><span class="line">Deleted branch hotfix-<span class="number">1.2</span>.<span class="number">1</span> (was abbe5d6).</span><br></pre></td></tr></table></figure>

<h4 id="三、Git-分支管理和冲突解决"><a href="/2019/11/19/GIT项目中的实际使用分析/#三、Git-分支管理和冲突解决" class="headerlink" title="三、Git 分支管理和冲突解决"></a>三、Git 分支管理和冲突解决</h4><hr>
<h5 id="3-1-合并分支间的修改-Merge"><a href="/2019/11/19/GIT项目中的实际使用分析/#3-1-合并分支间的修改-Merge" class="headerlink" title="3.1 合并分支间的修改 Merge"></a>3.1 合并分支间的修改 Merge</h5><p>合并操作将两条或多条分支合并到一起，实际上有好几种分支合并方法，下面介绍主要的三种：</p>
<h6 id="3-1-1-直接合并-straight-merge-："><a href="/2019/11/19/GIT项目中的实际使用分析/#3-1-1-直接合并-straight-merge-：" class="headerlink" title="3.1.1 直接合并(straight merge)："></a>3.1.1 直接合并(straight merge)：</h6><p>把两条分支上的历史轨迹合并，交汇到一起。比如要把dev分支上的所有东东合并到master分支：</p>
<ul>
<li>首先先到master分支：git checkout master</li>
<li>然后把dev给合并过来：git merge dev</li>
<li>注意没参数的情况下merge是fast-forward的，即Git将master分支的指针直接移到dev的最前方。</li>
<li>换句话说，如果顺着一个分支走下去可以到达另一个分支的话，那么Git在合并两者时，只会简单移动指针，所以这种合并成为<code>快进式(Fast-forward)</code>。</li>
</ul>
<h6 id="3-1-2-压合合并-squashed-commits-："><a href="/2019/11/19/GIT项目中的实际使用分析/#3-1-2-压合合并-squashed-commits-：" class="headerlink" title="3.1.2 压合合并(squashed commits)："></a>3.1.2 压合合并(squashed commits)：</h6><p>将一条分支上的若干个提交条目压合成一个提交条目，提交到另一条分支的末梢。</p>
<p>把dev分支上的所有提交压合成主分支上的一个提交，即压合提交：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">$ git merge --squash dev</span><br></pre></td></tr></table></figure>

<p>此时，dev上的所有提交已经合并到当前工作区并暂存，但还没有作为一个提交，可以像其他提交一样，把这个改动提交到版本库中：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit –m “something <span class="keyword">from</span> dev”</span><br></pre></td></tr></table></figure>

<h6 id="3-1-3-拣选合并-cherry-picking-："><a href="/2019/11/19/GIT项目中的实际使用分析/#3-1-3-拣选合并-cherry-picking-：" class="headerlink" title="3.1.3 拣选合并(cherry-picking)："></a>3.1.3 拣选合并(cherry-picking)：</h6><p>拣选另一条分支上的某个提交条目的改动带到当前分支上。每一次提交都会产生一个全局唯一的提交名称，利用这个名称就可以进行拣选提交。<br> 比如在dev上的某个提交叫：321d76f<br> 把它合并到master中：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">$ git cherry-pick <span class="number">321</span>d76f</span><br></pre></td></tr></table></figure>

<p>要拣选多个提交，可以给git cherry-pick命令传递-n选项，比如：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git cherry-pick –n <span class="number">321</span>d76f</span><br></pre></td></tr></table></figure>

<p>这样在拣选了这个改动之后，进行暂存而不立即提交，接着可以进行下一个拣选操作，一旦拣选完需要的各个提交，就可以一并提交。</p>
<h5 id="3-2-冲突处理"><a href="/2019/11/19/GIT项目中的实际使用分析/#3-2-冲突处理" class="headerlink" title="3.2 冲突处理"></a>3.2 冲突处理</h5><p>当两条分支对同一个文件的同一个文本块进行了不同的修改，并试图合并时，Git<strong>不能自动合并</strong>的，称之为<code>冲突(conflict)</code>。解决冲突需要人工处理。<br> 比如当前在<code>master</code>分支，想把<code>dev</code>分支<code>merge</code>过来，结果产生了一个冲突，打开文件内容可以看到这么一个冲突：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line"></span><br><span class="line"><span class="built_in">test</span> <span class="keyword">in</span> master</span><br><span class="line"></span><br><span class="line">=======</span><br><span class="line"></span><br><span class="line"><span class="built_in">test</span> <span class="keyword">in</span> dev</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; dev</span><br></pre></td></tr></table></figure>

<p><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>标记冲突开始，后面跟的是当前分支中的内容。<br> HEAD指向当前分支末梢的提交。<br> <code>=======</code>之后，<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>之前是要merge过来的另一条分支上的代码。<br> <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>之后的dev是该分支的名字。<br> 对于简单的合并，手工编辑，然后去掉这些标记，最后像往常的提交一样先add再commit即可。</p>
<h5 id="3-3-删除分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#3-3-删除分支" class="headerlink" title="3.3 删除分支"></a>3.3 删除分支</h5><p>有些分支没有必要长期保存，比如分支中的代码已经打了标签并已发布，或者实验分支已经成功完成工作或中途废弃等等。</p>
<p><strong>注意：打了标签的分支，Git在删除该分支时，从版本树起始到此标签间的全部历史轨迹均会保留，此时删除分支操作只是删除分支本身的名称，因此可以说该分支没有必要长期保存。</strong></p>
<p>而在其他版本控制工具中，删除分支通常意味着删除分支上的所有历史轨迹，所以不能因为打了标签就认为其没有必要保存。</p>
<p>删除一个分支dev2：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch –d dev2</span><br></pre></td></tr></table></figure>

<p>注意不能删除当前所在分支，需要转到别的分支上。<br> 如果要删除的分支已经成功合并到当前分支，删除分支的操作会直接成功。<br> 如果要删除的分支没有合并到当前所在分支，则会出现提示，如果确定无须合并而要直接删除，则执行命令：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch –D dev2</span><br></pre></td></tr></table></figure>

<p>进行强删。</p>
<h4 id="四、Git-版本回退"><a href="/2019/11/19/GIT项目中的实际使用分析/#四、Git-版本回退" class="headerlink" title="四、Git 版本回退"></a>四、Git 版本回退</h4><hr>
<p>在版本迭代开发过程中，相信很多人都会有过错误提交的时候。这种情况下，菜鸟程序员可能就会虎驱一震，紧张得不知所措。而资深程序员就会微微一笑，摸一摸<strong>锃亮的脑门</strong>，然后默默的进行版本回退。</p>
<p>对于版本的回退，我们经常会用到两个命令：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git reset</span><br><span class="line">$ git revert</span><br></pre></td></tr></table></figure>

<p>那这两个命令有何区别呢？先不急，我们后文详细介绍。</p>
<h5 id="4-1-git-reset"><a href="/2019/11/19/GIT项目中的实际使用分析/#4-1-git-reset" class="headerlink" title="4.1 git reset"></a>4.1 git reset</h5><p>假如我们的系统现在有如下几个提交：</p>
<img src="/11/19/GIT项目中的实际使用分析/GIT-项目中的实际使用分析/18747624-3329e55d0a95f128.webp" alt="img" style="zoom:67%;"> 

<p>错误提交.png</p>
<p>其中：A 和 B 是正常提交，而 C 和 D 是错误提交。现在，我们想把 C 和 D 回退掉。而此时，HEAD 指针指向 D 提交（5lk4er）。我们只需将 HEAD 指针移动到 B 提交（a0fvf8），就可以达到目的。</p>
<p>只要有 git 基础的朋友，一定会想到 git reset 命令。完整命令如下：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard a0fvf8</span><br></pre></td></tr></table></figure>

<p>命令运行之后，HEAD 指针就会移动到 B 提交下，如下图示：</p>
 <img src="/11/19/GIT项目中的实际使用分析/GIT-项目中的实际使用分析/18747624-5840c2017c6964b2.webp" alt="img" style="zoom:67%;"> 

<p>reset以后效果.png</p>
<p> 而这个时候，远程仓库的 HEAD 指针依然不变，仍在 D 提交上。所以，如果直接使用命令的话，将无法将更改推到远程仓库。此时，只能使用 选项将提交强制推到远程仓库：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push -f</span><br></pre></td></tr></table></figure>

<p>采用这种方式回退代码的弊端显而易见，那就是<strong>会使 HEAD 指针往回移动，从而会失去之后的提交信息</strong>。将来如果突然发现，C 和 D 是多么绝妙的想法，可它们已经早就消失在历史的长河里了。</p>
<p>而且，有些公司<strong>明令禁止</strong>使用 <code>git reset</code>命令去回退代码，原因与上述一样。所以，我们需要找到一个命令，既可以回退代码，又可以保存错误的提交。这时，<code>git revert</code>命令就派上用场了。</p>
<h5 id="4-2-git-revert"><a href="/2019/11/19/GIT项目中的实际使用分析/#4-2-git-revert" class="headerlink" title="4.2 git revert"></a>4.2 git revert</h5><p><code>git revert</code>的作用通过反做创建一个新的版本，这个版本的内容与我们要回退到的目标版本一样，但是HEAD指针是指向这个新生成的版本，而不是目标版本。</p>
<p>使用 <code>git revert</code>命令来实现上述例子的话，我们可以这样做：先 revert D，再 revert C （有多个提交需要回退的话需要由新到旧进行 revert）：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git revert <span class="number">5</span>lk4er</span><br><span class="line">$ git revert <span class="number">76</span>sdeb</span><br></pre></td></tr></table></figure>

 <img src="/11/19/GIT项目中的实际使用分析/GIT-项目中的实际使用分析/18747624-c96f46946cf01cb9.webp" alt="img" style="zoom:67%;"> 

<p>反向创建版本回退.png</p>
<p>这里只有两个提交需要 revert，我们可以一个个回退。但如果有几十个呢？一个个回退肯定效率太低而且容易出错。我们可以使用以下方法进行批量回退：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git revert OLDER_COMMIT^..NEWER_COMMIT</span><br></pre></td></tr></table></figure>

<p>这时，错误的提交 C 和 D 依然保留，将来进行甩锅的时候也有依可循。而且，这样操作的话 HEAD 指针是往后移动的，可以直接使用 <code>git push</code>命令推送到远程仓库里。而这种做法，正是企业所鼓励的。</p>
<p>我们再举个更难一点的例子。</p>
<p>假如现在有三个提交，但很不巧的是，那个错误的提交刚好位于中间。如下图示：</p>
 <img src="/11/19/GIT项目中的实际使用分析/GIT-项目中的实际使用分析/18747624-0e0385f7011f76ce.webp" alt="img" style="zoom:67%;"> 

<p>位于中间的错误提交.png</p>
<p>这时，直接使用 git reset命令将 HEAD 指针重置到 A 提交显然是不行的，因为 C 提交是正确的，需要保留的。先把 C 提交 及 B 提交全部回退，再使用 cherry-pick 命令将 C 提交重新再生成一个新的提交 C’’，这样就实现了将 B提交回退的需求。完整的过程如下：</p>
 <img src="/11/19/GIT项目中的实际使用分析/GIT-项目中的实际使用分析/18747624-c9d149fa07eaa5e7.webp" alt="img" style="zoom:67%;"> 

<p>1.png</p>
<p> 通过以上对比可以发现，与 最大的差别就在于，会失去后面的提交，而是通过反做的方式重新创建一个新的提交，而保留原有的提交。在企业里，应尽量使用 命令，能不用 命令尽量不用。</p>
<h4 id="五、命名规范"><a href="/2019/11/19/GIT项目中的实际使用分析/#五、命名规范" class="headerlink" title="五、命名规范"></a>五、命名规范</h4><hr>
<h5 id="5-1-主版本-次版本-修订号"><a href="/2019/11/19/GIT项目中的实际使用分析/#5-1-主版本-次版本-修订号" class="headerlink" title="5.1 主版本.次版本.修订号"></a>5.1 <code>主版本</code>.<code>次版本</code>.<code>修订号</code></h5><p>1.0.0</p>
<p>版本号主要有3部分构成（由两个<code>.</code>分割成三部分）<code>主版本</code>、<code>次版本</code>、<code>修订号</code>：<br> <strong>主版本</strong>：程序的主版本号，除非系统做整体重构，一般不变化<br> <strong>次版本</strong>：功能版本号，一般为功能迭代的版本号，每次版本号为上一次正常按迭代计划发版的<code>次版本</code> + 1;<code>主版本</code>发生变更，<code>次版本</code>需重置为0<br> 比如：上次按正常按迭代计划发版的版本号为v1.9.0，本次版本号为 v1.<code>(9+1)</code>.0，即 v1.10.0<br> <strong>修订号</strong>：每次线上BUG修复，该版本号相对上次<code>修订号</code>+1 （前提：相同<code>主版本</code>以及<code>次版本</code>）;<code>主版本</code>和<code>次版本</code>发生变更，<code>修订号</code>需重置为0<br> 比如：上次修订号为v1.9.3，本次版本号为 v1.9.<code>(3+1)</code>，即 v1.9.4</p>
<h5 id="5-2-分支命名规范"><a href="/2019/11/19/GIT项目中的实际使用分析/#5-2-分支命名规范" class="headerlink" title="5.2 分支命名规范"></a>5.2 分支命名规范</h5><h6 id="5-2-1-主分支："><a href="/2019/11/19/GIT项目中的实际使用分析/#5-2-1-主分支：" class="headerlink" title="5.2.1 主分支："></a>5.2.1 主分支：</h6><p>master：master 分支就叫 master 分支<br> develop：develop 分支就叫 develop 分支</p>
<h6 id="5-2-2-辅助分支："><a href="/2019/11/19/GIT项目中的实际使用分析/#5-2-2-辅助分支：" class="headerlink" title="5.2.2 辅助分支："></a>5.2.2 辅助分支：</h6><h6 id="5-2-2-1-Feature-分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#5-2-2-1-Feature-分支" class="headerlink" title="5.2.2.1 Feature 分支"></a>5.2.2.1 Feature 分支</h6><p>feature/v1.16.0_xxx<br> feature/v1.16.0_yyy<br> feature/v1.16.0_zzz</p>
<p><code>v1.16.0</code> 表示当前迭代的版本号，<code>xxx</code>、<code>yyy</code>、<code>zzz</code> 表示当前迭代的功能或业务单元的名称</p>
<h6 id="5-2-2-2-Release-分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#5-2-2-2-Release-分支" class="headerlink" title="5.2.2.2 Release 分支"></a>5.2.2.2 Release 分支</h6><p>release/v1.17.0<br> release/v1.18.0</p>
<p><code>v1.17.0</code>、<code>v1.18.0</code> 根据上线需求和系统上线计划，合理规划版本号，每个大版本号表示一次上线正常上线过程。</p>
<h6 id="5-2-2-3-Hotfix-分支"><a href="/2019/11/19/GIT项目中的实际使用分析/#5-2-2-3-Hotfix-分支" class="headerlink" title="5.2.2.3 Hotfix 分支"></a>5.2.2.3 Hotfix 分支</h6><p>hotfix/v1.17.1<br> hotfix/v1.17.2</p>
<p><code>v1.17.1</code>、<code>v1.17.2</code> 表示v1.17.0 这个版本做了2次线上问题热修复。</p>
<h4 id="六、总结"><a href="/2019/11/19/GIT项目中的实际使用分析/#六、总结" class="headerlink" title="六、总结"></a>六、总结</h4><hr>
<ul>
<li>并行开发：依据迭代的发版计划和任务分解，创建feature（不同迭代需通过版本号隔离，同一个迭代内要上线的功能需要通过feature隔离）</li>
<li>保持迭代内代码的可预见性&amp;可控制性：<br> 迭代内，只允许主迭代的feature代码提交到develop分支</li>
<li>哪里有问题改哪里，改完后及时合并到主分支:<br> release(fit)环境的问题修复：应从release分支拉出分支进行问题修复，修复后及时合并到develop主分支<br> master环境的问题修复：应从生产环境对应的tag（一般为最新的版本号）拉出分支进行问题修复，问题修复后及时合并代码至develop主分支和master主分支</li>
</ul>

      </div>
      
        <br>
        


  <section class='meta' id="footer-meta">
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date" itemprop="dateUpdated" datetime="2019-11-19T13:50:46+08:00">
  <a class='notlink'>
    <i class="fas fa-clock" aria-hidden="true"></i>
    <p>updated at Nov 19, 2019</p>
  </a>
</div>

        
      
        
          

        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="QQ好友" rel="external nofollow noopener noreferrer"
          
          href="http://connect.qq.com/widget/shareqq/index.html?url=/2019/11/19/GIT%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8%E5%88%86%E6%9E%90/&title=GIT-项目中的实际使用分析 | 蜗牛君&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qq.png">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="QQ空间" rel="external nofollow noopener noreferrer"
          
          href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=/2019/11/19/GIT%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8%E5%88%86%E6%9E%90/&title=GIT-项目中的实际使用分析 | 蜗牛君&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qzone.png">
          
        </a>
      
    
      
        <a class="-mob-share-weibo" title="微博" rel="external nofollow noopener noreferrer"
          
          href="http://service.weibo.com/share/share.php?url=/2019/11/19/GIT%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8%E5%88%86%E6%9E%90/&title=GIT-项目中的实际使用分析 | 蜗牛君&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/weibo.png">
          
        </a>
      
    
  </div>
</div>



        
      
    </div>
  </section>


      
      
          <div class="prev-next">
              
                  <section class="prev">
                      <span class="art-item-left">
                          <h6><i class="fas fa-chevron-left" aria-hidden="true"></i>&nbsp;Previous</h6>
                          <h4>
                              <a href="/2019/11/29/docker%E5%AE%89%E8%A3%85Jenkins%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC/" rel="prev" title="docker安装Jenkins最新版本">
                                
                                    docker安装Jenkins最新版本
                                
                              </a>
                          </h4>
                          
                              
                              <h6 class="tags">
                                  <a class="tag" href="/tags/Jenkins-docker/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> -Jenkins -docker</a>
                              </h6>
                          
                      </span>
                  </section>
              
              
                  <section class="next">
                      <span class="art-item-right" aria-hidden="true">
                          <h6>Next&nbsp;<i class="fas fa-chevron-right" aria-hidden="true"></i></h6>
                          <h4>
                              <a href="/2019/11/13/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%97%E7%AC%A6%E4%B9%B1%E7%A0%81%E5%88%86%E6%9E%90/" rel="prev" title="mysql数据库字符乱码分析">
                                  
                                      mysql数据库字符乱码分析
                                  
                              </a>
                          </h4>
                          
                              
                              <h6 class="tags">
                                  <a class="tag" href="/tags/mysql/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> mysql</a>
                              </h6>
                          
                      </span>
                  </section>
              
          </div>
      
    </section>
  </article>



  <!-- 显示推荐文章和评论 -->



  <article class="post white-box comments">
    <section class="article typo">
      <h4><i class="fas fa-comments fa-fw" aria-hidden="true"></i>&nbsp;Comments</h4>
      
      
      
        <section id="comments">
          <div id="gitalk-container"></div>
        </section>
      
      
    </section>
  </article>






<!-- 根据页面mathjax变量决定是否加载MathJax数学公式js -->



  <script>
    window.subData = {
      title: 'GIT-项目中的实际使用分析',
      tools: true
    }
  </script>


</div>
<aside class='l_side'>
  
    
    
      
      
        
          
          
            
              <section class='widget author'>
  <div class='content pure'>
    
      <div class='avatar'>
        <img class='avatar' src='/assets/self.jpg'/>
      </div>
    
    
    
      <div class="social-wrapper">
        
          
            <a href="/atom.xml"
              class="social fas fa-rss flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="mailto:dmlys@live.com"
              class="social fas fa-envelope flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://github.com/ChanMango"
              class="social fab fa-github flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://music.163.com/#/user/home?id=118376074"
              class="social fas fa-headphones-alt flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
      </div>
    
  </div>
</section>

            
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
            
              
  <section class='widget toc-wrapper'>
    
<header class='pure'>
  <div><i class="fas fa-list fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;TOC</div>
  
    <!-- <div class='wrapper'><a class="s-toc rightBtn" rel="external nofollow noopener noreferrer" href="javascript:void(0)"><i class="fas fa-thumbtack fa-fw"></i></a></div> -->
  
</header>

    <div class='content pure'>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#GIT-项目中的实际使用分析"><span class="toc-text">GIT-项目中的实际使用分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#一、常用命令介绍"><span class="toc-text">一、常用命令介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-命令行介绍"><span class="toc-text">1.1 命令行介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-1-1-Git-全局设置"><span class="toc-text">1.1.1 Git 全局设置</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-1-2-创建一个新仓库（本地）"><span class="toc-text">1.1.2 创建一个新仓库（本地）</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-1-3-在已存在的目录中创建仓库"><span class="toc-text">1.1.3 在已存在的目录中创建仓库</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-1-4-将本地已存在的仓库推送到远程仓库"><span class="toc-text">1.1.4 将本地已存在的仓库推送到远程仓库</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-1-5-查看分支相关命令"><span class="toc-text">1.1.5 查看分支相关命令</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-1-6-拉取远程分支并创建本地分支"><span class="toc-text">1.1.6 拉取远程分支并创建本地分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-1-7-建立本地分支与远程分支的映射关系（或者为跟踪关系track）"><span class="toc-text">1.1.7 建立本地分支与远程分支的映射关系（或者为跟踪关系track）</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-1-8-切换当前本地分支"><span class="toc-text">1.1.8 切换当前本地分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-1-9-拉取远程分支代码"><span class="toc-text">1.1.9 拉取远程分支代码</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-1-10-推送本地分支代码到远程分支"><span class="toc-text">1.1.10 推送本地分支代码到远程分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-1-11-合并分支"><span class="toc-text">1.1.11 合并分支</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#二、Gitflow总览"><span class="toc-text">二、Gitflow总览</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-主分支"><span class="toc-text">2.1 主分支</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-辅助分支"><span class="toc-text">2.2 辅助分支</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-1-Feature-分支"><span class="toc-text">2.2.1 Feature 分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-1-1-新建feature分支"><span class="toc-text">2.2.1.1 新建feature分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-1-2-合并feature-分支到-develop"><span class="toc-text">2.2.1.2 合并feature 分支到 develop</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-2-Release-分支"><span class="toc-text">2.2.2 Release 分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#新建-release-分支"><span class="toc-text">新建 release 分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-2-1-release-分支合并到-master-分支"><span class="toc-text">2.2.2.1 release 分支合并到 master 分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-2-2-release-分支合并到-develop-分支"><span class="toc-text">2.2.2.2 release 分支合并到 develop 分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-2-3-最后，删除-release-分支"><span class="toc-text">2.2.2.3 最后，删除 release 分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-3-Hotfix-分支"><span class="toc-text">2.2.3 Hotfix 分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-3-1-新建-hotfix-分支"><span class="toc-text">2.2.3.1 新建 hotfix 分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-3-2-Fix-bug"><span class="toc-text">2.2.3.2 Fix bug</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-3-3-buffix-之后，hotfix-合并到-master"><span class="toc-text">2.2.3.3 buffix 之后，hotfix 合并到 master</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-3-4-hotfix-合并到-develop-分支"><span class="toc-text">2.2.3.4 hotfix 合并到 develop 分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-3-5-删除-hotfix-分支"><span class="toc-text">2.2.3.5 删除 hotfix 分支</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#三、Git-分支管理和冲突解决"><span class="toc-text">三、Git 分支管理和冲突解决</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-合并分支间的修改-Merge"><span class="toc-text">3.1 合并分支间的修改 Merge</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#3-1-1-直接合并-straight-merge-："><span class="toc-text">3.1.1 直接合并(straight merge)：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-1-2-压合合并-squashed-commits-："><span class="toc-text">3.1.2 压合合并(squashed commits)：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-1-3-拣选合并-cherry-picking-："><span class="toc-text">3.1.3 拣选合并(cherry-picking)：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-冲突处理"><span class="toc-text">3.2 冲突处理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-删除分支"><span class="toc-text">3.3 删除分支</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#四、Git-版本回退"><span class="toc-text">四、Git 版本回退</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-git-reset"><span class="toc-text">4.1 git reset</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-2-git-revert"><span class="toc-text">4.2 git revert</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#五、命名规范"><span class="toc-text">五、命名规范</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5-1-主版本-次版本-修订号"><span class="toc-text">5.1 主版本.次版本.修订号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-2-分支命名规范"><span class="toc-text">5.2 分支命名规范</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#5-2-1-主分支："><span class="toc-text">5.2.1 主分支：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-2-2-辅助分支："><span class="toc-text">5.2.2 辅助分支：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-2-2-1-Feature-分支"><span class="toc-text">5.2.2.1 Feature 分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-2-2-2-Release-分支"><span class="toc-text">5.2.2.2 Release 分支</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-2-2-3-Hotfix-分支"><span class="toc-text">5.2.2.3 Hotfix 分支</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#六、总结"><span class="toc-text">六、总结</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>
  </section>


            
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
            
              <section class='widget grid'>
  
<header class='pure'>
  <div><i class="fas fa-map-signs fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;站内导航</div>
  
</header>

  <div class='content pure'>
    <ul class="grid navgation">
      
        <li><a class="flat-box" title="/" href="/"
          
          
          id="home">
          
            <i class="fas fa-clock fa-fw" aria-hidden="true"></i>
          
          近期文章
        </a></li>
      
        <li><a class="flat-box" title="/archives/" href="/archives/"
          
            rel="nofollow"
          
          
          id="archives">
          
            <i class="fas fa-archive fa-fw" aria-hidden="true"></i>
          
          文章归档
        </a></li>
      
        <li><a class="flat-box" title="/about/" href="/about/"
          
            rel="nofollow"
          
          
          id="about">
          
            <i class="fas fa-info-circle fa-fw" aria-hidden="true"></i>
          
          关于小站
        </a></li>
      
    </ul>
  </div>
</section>

            
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
            
              
  <section class='widget category'>
    
<header class='pure'>
  <div><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;Categories</div>
  
    <a class="rightBtn"
    
      rel="nofollow"
    
    
    href="/categories/"
    title="categories/">
    <i class="fas fa-expand-arrows-alt fa-fw"></i></a>
  
</header>

    <div class='content pure'>
      <ul class="entry">
        
          <li><a class="flat-box" title="/categories/Docker/" href="/categories/Docker/"><div class='name'>Docker</div><div class='badge'>(3)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/Docker/Mysql/" href="/categories/Docker/Mysql/"><div class='name'>Mysql</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Java/" href="/categories/Java/"><div class='name'>Java</div><div class='badge'>(8)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/Java/ReentrantLock/" href="/categories/Java/ReentrantLock/"><div class='name'>ReentrantLock</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/Java/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" href="/categories/Java/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"><div class='name'>代理模式</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/Java/%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B/" href="/categories/Java/%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B/"><div class='name'>基本类型</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Linux/" href="/categories/Linux/"><div class='name'>Linux</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/MySQL/" href="/categories/MySQL/"><div class='name'>MySQL</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/MySQL/Docker/" href="/categories/MySQL/Docker/"><div class='name'>Docker</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Mysql/" href="/categories/Mysql/"><div class='name'>Mysql</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/docker/" href="/categories/docker/"><div class='name'>docker</div><div class='badge'>(3)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/docker/Jenkins/" href="/categories/docker/Jenkins/"><div class='name'>Jenkins</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/git/" href="/categories/git/"><div class='name'>git</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/mysql/" href="/categories/mysql/"><div class='name'>mysql</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/mysql/%E5%AD%97%E7%AC%A6%E4%B9%B1%E7%A0%81/" href="/categories/mysql/%E5%AD%97%E7%AC%A6%E4%B9%B1%E7%A0%81/"><div class='name'>字符乱码</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/spribgboot/" href="/categories/spribgboot/"><div class='name'>spribgboot</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/vps/" href="/categories/vps/"><div class='name'>vps</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E5%81%A5%E8%BA%AB/" href="/categories/%E5%81%A5%E8%BA%AB/"><div class='name'>健身</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/"><div class='name'>分布式</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><div class='name'>数据结构</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95/" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95/"><div class='name'>算法</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E7%BC%93%E5%AD%98/" href="/categories/%E7%BC%93%E5%AD%98/"><div class='name'>缓存</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95/" href="/categories/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95/"><div class='name'>英语语法</div><div class='badge'>(2)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><div class='name'>计算机网络</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E9%9D%A2%E8%AF%95/" href="/categories/%E9%9D%A2%E8%AF%95/"><div class='name'>面试</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box child" title="/categories/%E9%9D%A2%E8%AF%95/Java/" href="/categories/%E9%9D%A2%E8%AF%95/Java/"><div class='name'>Java</div><div class='badge'>(1)</div></a></li>
        
      </ul>
    </div>
  </section>


            
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
            
              
  <section class='widget tagcloud'>
    
<header class='pure'>
  <div><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;Hot Tags</div>
  
    <a class="rightBtn"
    
      rel="nofollow"
    
    
    href="/tags/"
    title="tags/">
    <i class="fas fa-expand-arrows-alt fa-fw"></i></a>
  
</header>

    <div class='content pure'>
      <a href="/tags/Jenkins-docker/" style="font-size: 14px; color: #999">-Jenkins -docker</a> <a href="/tags/Docker/" style="font-size: 14px; color: #999">Docker</a> <a href="/tags/Hibernate/" style="font-size: 14px; color: #999">Hibernate</a> <a href="/tags/IT/" style="font-size: 22.57px; color: #5f5f5f">IT</a> <a href="/tags/IT-%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-Job-zookeeper/" style="font-size: 14px; color: #999">IT - 技术笔记 - Job - zookeeper</a> <a href="/tags/Java/" style="font-size: 19.71px; color: #727272">Java</a> <a href="/tags/Job/" style="font-size: 21.14px; color: #686868">Job</a> <a href="/tags/Kafka/" style="font-size: 14px; color: #999">Kafka</a> <a href="/tags/Linux/" style="font-size: 14px; color: #999">Linux</a> <a href="/tags/Lock/" style="font-size: 14px; color: #999">Lock</a> <a href="/tags/MySQL%E9%9B%86%E7%BE%A4/" style="font-size: 14px; color: #999">MySQL集群</a> <a href="/tags/Mybatis/" style="font-size: 14px; color: #999">Mybatis</a> <a href="/tags/Redis/" style="font-size: 14px; color: #999">Redis</a> <a href="/tags/Spring/" style="font-size: 14px; color: #999">Spring</a> <a href="/tags/docker/" style="font-size: 14px; color: #999">docker</a> <a href="/tags/dockerfile/" style="font-size: 14px; color: #999">dockerfile</a> <a href="/tags/java/" style="font-size: 14px; color: #999">java</a> <a href="/tags/mysql/" style="font-size: 18.29px; color: #7c7c7c">mysql</a> <a href="/tags/tomcat/" style="font-size: 15.43px; color: #8f8f8f">tomcat</a> <a href="/tags/zookeeper/" style="font-size: 14px; color: #999">zookeeper</a> <a href="/tags/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" style="font-size: 14px; color: #999">代理模式</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 14px; color: #999">分布式</a> <a href="/tags/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/" style="font-size: 24px; color: #555">技术笔记</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 14px; color: #999">排序</a> <a href="/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" style="font-size: 14px; color: #999">排序算法</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 16.86px; color: #868686">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 15.43px; color: #8f8f8f">数据结构</a> <a href="/tags/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 15.43px; color: #8f8f8f">服务端开发</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 14px; color: #999">算法</a> <a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 14px; color: #999">缓存</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 14px; color: #999">网络</a> <a href="/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 15.43px; color: #8f8f8f">英语</a> <a href="/tags/%E9%81%BF%E5%9D%91/" style="font-size: 14px; color: #999">避坑</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 15.43px; color: #8f8f8f">面试</a>
    </div>
  </section>


            
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
    

  
</aside>

<footer id="footer" class="clearfix">
  
  
    <div class="social-wrapper">
      
        
          <a href="/atom.xml"
            class="social fas fa-rss flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="mailto:dmlys@live.com"
            class="social fas fa-envelope flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="https://github.com/ChanMango"
            class="social fab fa-github flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="https://music.163.com/#/user/home?id=118376074"
            class="social fas fa-headphones-alt flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
    </div>
  
  <br>
  <div><p>Blog content follows the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) License</a></p>
</div>
  <div>
    Use
    <a href="https://xaoxuu.com/wiki/material-x/" target="_blank" class="codename">Material X</a>
    as theme
    
      , 
      total visits
      <span id="busuanzi_value_site_pv"><i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span>
      times
    
    . 
  </div>
</footer>
<script>setLoadingBarProgress(80);</script>


      <script>setLoadingBarProgress(60);</script>
    </div>
    <a class="s-top fas fa-arrow-up fa-fw" href='javascript:void(0)'></a>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>

  <script>
    var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
    var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
    var ALGOLIA_API_KEY = "";
    var ALGOLIA_APP_ID = "";
    var ALGOLIA_INDEX_NAME = "";
    var AZURE_SERVICE_NAME = "";
    var AZURE_INDEX_NAME = "";
    var AZURE_QUERY_KEY = "";
    var BAIDU_API_ID = "";
    var SEARCH_SERVICE = "hexo" || "hexo";
    var ROOT = "/"||"/";
    if(!ROOT.endsWith('/'))ROOT += '/';
  </script>

<script src="//instant.page/1.2.2" type="module" integrity="sha384-2xV8M5griQmzyiY3CDqh1dn4z3llDVqZDqzjzcY+jCBCk/a5fXJmuZ/40JJAPeoU"></script>


  <script async src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.5/dist/scrollreveal.min.js"></script>
  <script type="text/javascript">
    $(function() {
      const $reveal = $('.reveal');
      if ($reveal.length === 0) return;
      const sr = ScrollReveal({ distance: 0 });
      sr.reveal('.reveal');
    });
  </script>


  <script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script>
  <script type="text/javascript">
    $(function() {
      Waves.attach('.flat-btn', ['waves-button']);
      Waves.attach('.float-btn', ['waves-button', 'waves-float']);
      Waves.attach('.float-btn-light', ['waves-button', 'waves-float', 'waves-light']);
      Waves.attach('.flat-box', ['waves-block']);
      Waves.attach('.float-box', ['waves-block', 'waves-float']);
      Waves.attach('.waves-image');
      Waves.init();
    });
  </script>


  <script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script>




  
  
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script>
    <script type="text/javascript">
      $(function(){
        if ('.cover') {
          $('.cover').backstretch(
          ["assets/cover5.jpg"],
          {
            duration: "6000",
            fade: "2500"
          });
        } else {
          $.backstretch(
          ["assets/cover5.jpg"],
          {
            duration: "6000",
            fade: "2500"
          });
        }
      });
    </script>
  







  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
  <script type="text/javascript">
    var gitalk = new Gitalk({
      clientID: "c0594c9716f6179f3677",
      clientSecret: "c13716fc7d33a328f4d5dc4a1b8a2af3823ed2ac",
      repo: "ChanMango.github.io",
      owner: "ChanMango",
      admin: "蜗牛君",
      
        id: location.pathname,      // Ensure uniqueness and length less than 50
      
      distractionFreeMode: false  // Facebook-like distraction free mode
    });
    gitalk.render('gitalk-container');
  </script>





  <script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.9/js/app.js"></script>


  <script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.9/js/search.js"></script>




<!-- 复制 -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  let COPY_SUCCESS = "Copied";
  let COPY_FAILURE = "Copy failed";
  /*页面载入完成后，创建复制按钮*/
  !function (e, t, a) {
    /* code */
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '  <i class="fa fa-copy"></i><span>Copy</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });

      clipboard.on('success', function(e) {
        //您可以加入成功提示
        console.info('Action:', e.action);
        console.info('Text:', e.text);
        console.info('Trigger:', e.trigger);
        success_prompt(COPY_SUCCESS);
        e.clearSelection();
      });
      clipboard.on('error', function(e) {
        //您可以加入失败提示
        console.error('Action:', e.action);
        console.error('Trigger:', e.trigger);
        fail_prompt(COPY_FAILURE);
      });
    }
    initCopyCode();

  }(window, document);

  /**
   * 弹出式提示框，默认1.5秒自动消失
   * @param message 提示信息
   * @param style 提示样式，有alert-success、alert-danger、alert-warning、alert-info
   * @param time 消失时间
   */
  var prompt = function (message, style, time)
  {
      style = (style === undefined) ? 'alert-success' : style;
      time = (time === undefined) ? 1500 : time*1000;
      $('<div>')
          .appendTo('body')
          .addClass('alert ' + style)
          .html(message)
          .show()
          .delay(time)
          .fadeOut();
  };

  // 成功提示
  var success_prompt = function(message, time)
  {
      prompt(message, 'alert-success', time);
  };

  // 失败提示
  var fail_prompt = function(message, time)
  {
      prompt(message, 'alert-danger', time);
  };

  // 提醒
  var warning_prompt = function(message, time)
  {
      prompt(message, 'alert-warning', time);
  };

  // 信息提示
  var info_prompt = function(message, time)
  {
      prompt(message, 'alert-info', time);
  };

</script>


<!-- fancybox -->
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script>
  let LAZY_LOAD_IMAGE = "";
  $(".article-entry").find("fancybox").find("img").each(function () {
      var element = document.createElement("a");
      $(element).attr("data-fancybox", "gallery");
      $(element).attr("href", $(this).attr("src"));
      /* 图片采用懒加载处理时,
       * 一般图片标签内会有个属性名来存放图片的真实地址，比如 data-original,
       * 那么此处将原本的属性名src替换为对应属性名data-original,
       * 修改如下
       */
       if (LAZY_LOAD_IMAGE) {
         $(element).attr("href", $(this).attr("data-original"));
       }
      $(this).wrap(element);
  });
</script>





  <script>setLoadingBarProgress(100);</script>
</body>
</html>

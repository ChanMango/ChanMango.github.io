<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>Spring面试 | Hexo</title>
  
  

  

  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <!-- meta -->
  

  <!-- link -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.10.1/css/all.min.css">
  

  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.9.9/css/style.css">
  

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>

  
  
</head>

<body>
  
  
  <div class="cover-wrapper">
    <cover class='cover post half'>
      
        
  <h1 class='title'>Demo</h1>


  <div class="m_search">
    <form name="searchform" class="form u-search-form">
      <input type="text" class="input u-search-input" placeholder="" />
      <i class="icon fas fa-search fa-fw"></i>
    </form>
  </div>

<div class='menu navgation'>
  <ul class='h-list'>
    
      
        <li>
          <a class="nav home" href="/"
            
            
            id="home">
            <i class='fas fa-rss fa-fw'></i>&nbsp;博文
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/projects/"
            
            
            id="projects">
            <i class='fas fa-code-branch fa-fw'></i>&nbsp;项目
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/friends/"
            
              rel="nofollow"
            
            
            id="friends">
            <i class='fas fa-link fa-fw'></i>&nbsp;友链
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/about/"
            
              rel="nofollow"
            
            
            id="about">
            <i class='fas fa-info-circle fa-fw'></i>&nbsp;关于
          </a>
        </li>
      
    
  </ul>
</div>

      
    </cover>
    <header class="l_header pure">
  <div id="loading-bar-wrapper">
    <div id="loading-bar" class="pure"></div>
  </div>

	<div class='wrapper'>
		<div class="nav-main container container--flex">
      <a class="logo flat-box" href='/' >
        
          Hexo
        
      </a>
			<div class='menu navgation'>
				<ul class='h-list'>
          
  					
  						<li>
								<a class="nav flat-box" href="/"
                  
                  
                  id="home">
									<i class='fas fa-grin fa-fw'></i>&nbsp;示例
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/categories/"
                  
                    rel="nofollow"
                  
                  
                  id="categories">
									<i class='fas fa-folder-open fa-fw'></i>&nbsp;分类
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/tags/"
                  
                    rel="nofollow"
                  
                  
                  id="tags">
									<i class='fas fa-hashtag fa-fw'></i>&nbsp;标签
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/archives/"
                  
                    rel="nofollow"
                  
                  
                  id="archives">
									<i class='fas fa-archive fa-fw'></i>&nbsp;归档
								</a>
							</li>
      			
      		
				</ul>
			</div>

			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="Search" />
						<i class="icon fas fa-search fa-fw"></i>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a class="fas fa-search fa-fw" href='javascript:void(0)'></a></li>
				
				<li class='s-menu'><a class="fas fa-bars fa-fw" href='javascript:void(0)'></a></li>
			</ul>
		</div>

		<div class='nav-sub container container--flex'>
			<a class="logo flat-box"></a>
			<ul class='switcher h-list'>
				<li class='s-comment'><a class="flat-btn fas fa-comments fa-fw" href='javascript:void(0)'></a></li>
        
          <li class='s-toc'><a class="flat-btn fas fa-list fa-fw" href='javascript:void(0)'></a></li>
        
			</ul>
		</div>
	</div>
</header>
	<aside class="menu-phone">
    <header>
		<nav class="menu navgation">
      <ul>
        
          
            <li>
							<a class="nav flat-box" href="/"
                
                
                id="home">
								<i class='fas fa-clock fa-fw'></i>&nbsp;近期文章
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/archives/"
                
                  rel="nofollow"
                
                
                id="archives">
								<i class='fas fa-archive fa-fw'></i>&nbsp;文章归档
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/projects/"
                
                
                id="projects">
								<i class='fas fa-code-branch fa-fw'></i>&nbsp;开源项目
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/friends/"
                
                  rel="nofollow"
                
                
                id="friends">
								<i class='fas fa-link fa-fw'></i>&nbsp;我的友链
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="https://xaoxuu.com/wiki/material-x/"
                
                  rel="nofollow"
                
                
                id="https:xaoxuu.comwikimaterial-x">
								<i class='fas fa-book fa-fw'></i>&nbsp;主题文档
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/about/"
                
                  rel="nofollow"
                
                
                id="about">
								<i class='fas fa-info-circle fa-fw'></i>&nbsp;关于小站
							</a>
            </li>
          
       
      </ul>
		</nav>
    </header>
	</aside>
<script>setLoadingBarProgress(40);</script>

  </div>


  <div class="l_body">
    <div class='body-wrapper'>
      <div class='l_main'>
  

  <article id="post" class="post white-box article-type-post" itemscope itemprop="blogPost">
    


  <section class='meta'>
    
    
    <div class="meta" id="header-meta">
      
        
  
    <h1 class="title">
      <a href="/2019/10/20/Spring%E9%9D%A2%E8%AF%95/">
        Spring面试
      </a>
    </h1>
  


      
      <div class='new-meta-box'>
        
          
        
          
            
  <div class='new-meta-item author'>
    
      <a href="/" rel="nofollow">
        
          <i class="fas fa-user" aria-hidden="true"></i>
        
        <p>蜗牛君</p>
      </a>
    
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
    <p>2019-10-20</p>
  </a>
</div>

          
        
          
            

          
        
          
            
  
    <div class="new-meta-item browse busuanzi">
      <a class='notlink'>
        <i class="fas fa-eye" aria-hidden="true"></i>
        <p>
          <span id="busuanzi_value_page_pv">
            <i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i>
          </span>
        </p>
      </a>
    </div>
  


          
        
          
            

          
        
      </div>
      
        <hr>
      
    </div>
  </section>


    <section class="article typo">
      <div class="article-entry" itemprop="articleBody">
        <h2 id="Spring"><a href="/2019/10/20/Spring面试/#Spring" class="headerlink" title="Spring"></a>Spring</h2><h3 id="1-Spring是什么"><a href="/2019/10/20/Spring面试/#1-Spring是什么" class="headerlink" title="1. Spring是什么?"></a>1. Spring是什么?</h3><p>​    Spring是一个轻量级的IoC和AOP容器框架。是为Java应用程序提供基础性服务的一套框架，目的是用于简化企业应用程序的开发，它使得开发者只需要关心业务需求。常见的配置方式有三种：基于XML的配置、基于注解的配置、基于Java的配置。</p>
<p><strong>主要由以下几个模块组成：</strong></p>
<p>Spring Core：核心类库，提供IOC服务；</p>
<p>Spring Context：提供框架式的Bean访问方式，以及企业级功能（JNDI、定时任务等）；</p>
<p>Spring AOP：AOP服务；</p>
<p>Spring DAO：对JDBC的抽象，简化了数据访问异常的处理；</p>
<p>Spring ORM (对象关系映射)：对现有的ORM框架的支持；</p>
<p>Spring Web：提供了基本的面向Web的综合特性，例如多方文件上传；</p>
<p>Spring MVC：提供面向Web应用的Model-View-Controller实现。</p>
<h3 id="2-Spring-的优点？"><a href="/2019/10/20/Spring面试/#2-Spring-的优点？" class="headerlink" title="2. Spring 的优点？"></a>2. Spring 的优点？</h3><p>（1）spring属于<strong>低侵入式设计</strong>，代码的污染极低；</p>
<p>（2）spring的DI机制<u>将对象之间的依赖关系交由框架处理，减低组件的耦合性</u>；</p>
<p>（3）Spring提供了AOP技术，支持将一些<strong>通用任务，如安全、事务、日志、权限等进行集中式管理</strong>，从而提供更好的复用。</p>
<p>（4）spring对于<strong>主流的应用框架提供了集成支持</strong>。</p>
<h3 id="3、Spring的AOP理解："><a href="/2019/10/20/Spring面试/#3、Spring的AOP理解：" class="headerlink" title="3、Spring的AOP理解："></a>3、Spring的AOP理解：</h3><p>OOP面向对象，允许开发者定义纵向的关系，但并适用于定义横向的关系，导致了大量代码的重复，而不利于各个模块的重用。</p>
<blockquote>
<p>简单说就是<strong>AOP</strong>可以在不修改现有代码的情况下对现有代码增加一些功能，那么这就是<strong>AOP</strong>最强大的功能。</p>
</blockquote>
<ul>
<li>Aspect（切面）： Aspect 声明类似于 Java 中的类声明，在 Aspect 中会包含着一些 Pointcut 以及相应的 Advice。</li>
<li>Joint point（连接点）：表示在程序中明确定义的点，典型的包括方法调用，对类成员的访问以及异常处理程序块的执行等等，它自身还可以嵌套其它 joint point。</li>
<li>Pointcut（切点）：表示一组 joint point，这些 joint point 或是通过逻辑关系组合起来，或是通过通配、正则表达式等方式集中起来，它定义了相应的 Advice 将要发生的地方。</li>
<li>pAdvice（增强）：Advice 定义了在 Pointcut 里面定义的程序点具体要做的操作，它通过 before、after 和 around 来区别是在每个 joint point 之前、之后还是代替执行的代码。</li>
<li>Target（目标对象）：织入 Advice 的目标对象.</li>
<li>Weaving（织入）：将 Aspect 和其他对象连接起来, 并创建 </li>
</ul>
<p>AOP，一般称为面向切面，作为面向对象的一种补充，用于将那些与业务无关，但却对多个对象产生影响的<strong>公共行为和逻辑，抽取并封装为一个可重用的模块，这个模块被命名为“切面”（Aspect）</strong>，减少系统中的重复代码，降低了模块间的耦合度，同时提高了系统的可维护性。可用于<strong>权限认证、日志、事务处理</strong>。</p>
<p>==AOP实现的关键在于 代理模式==，AOP代理主要分为静态代理和动态代理。</p>
<ul>
<li><p>静态代理的代表为<strong>AspectJ</strong>；</p>
<p>AspectJ是静态代理的增强，所谓静态代理，就是AOP框架会在<strong>编译阶段生成AOP代理类</strong>，因此也称为编译时增强，他会在编译阶段将<strong>AspectJ(切面)织入到Java字节码中</strong>，运行的时候就是增强之后的AOP对象。</p>
</li>
<li><p>动态代理则以<strong>Spring AOP</strong>为代表。</p>
<p>Spring AOP使用的动态代理，所谓的动态代理就是说AOP框架不会去修改字节码，而是每次运行时<strong>在内存中临时为方法生成一个AOP对象</strong>，这个AOP对象包含了目标对象的全部方法，并<strong>且在特定的切点做了增强处理，并回调原对象的方法</strong>。</p>
<p>Spring AOP中的动态代理主要有两种方式，<u>JDK动态代理和CGLIB动态代理</u>：</p>
<p>invocation <code>调用, 启用</code></p>
<pre><code>①JDK动态代理只提供接口的代理，不支持类的代理。核心InvocationHandler接口和Proxy类，InvocationHandler 通过invoke()方法反射来调用目标类中的代码，动态地将横切逻辑和业务编织在一起；接着，Proxy利用 InvocationHandler动态创建一个符合某一接口的的实例,  生成目标类的代理对象。

②如果代理类没有实现 InvocationHandler 接口，那么Spring AOP会选择使用CGLIB来动态代理目标类。CGLIB（Code Generation Library），是一个代码生成的类库，可以在运行时动态的生成指定类的一个子类对象，并覆盖其中特定方法并添加增强代码，从而实现AOP。CGLIB是通过继承的方式做的动态代理，因此如果某个类被标记为final，那么它是无法使用CGLIB做动态代理的。</code></pre></li>
</ul>
<p>静态代理与动态代理区别在于<strong>生成AOP代理对象的时机不同</strong>，相对来说AspectJ的静态代理方式具有更好的性能，但是AspectJ需要特定的编译器进行处理，而Spring AOP则无需特定的编译器处理。</p>
<p> InvocationHandler 的 invoke(Object  proxy,Method  method,Object[] args)：proxy是最终生成的代理实例;  method 是被代理目标实例的某个具体方法;  args 是被代理目标实例某个方法的具体入参, 在方法反射调用时使用。</p>
<h3 id="4、Spring的IoC理解："><a href="/2019/10/20/Spring面试/#4、Spring的IoC理解：" class="headerlink" title="4、Spring的IoC理解："></a>4、Spring的IoC理解：</h3><p>（1）IOC就是控制反转，是<strong>指创建对象的控制权的转移</strong>，以前创建对象的主动权和时机是由自己把控的，而现在这种<strong>权力转移到Spring容器</strong>中，并由容器根据配置文件去创建实例和管理各个实例之间的依赖关系，对象与对象之间松散耦合，也利于功能的复用。DI依赖注入，和控制反转是同一个概念的不同角度的描述，即 应用程序在运行时依赖IoC容器来动态注入对象需要的外部资源。</p>
<p>（2）最直观的表达就是，<u>IOC让对象的创建不用去new了，可以由spring自动生产</u>，使用java的反射机制，根据配置文件在运行时动态的去创建对象以及管理对象，并调用对象的方法的。</p>
<p>（3）Spring的IOC有三种注入方式 ：</p>
<ul>
<li>构造器注入</li>
<li>setter方法注入</li>
<li>根据注解注入</li>
</ul>
<p><strong>IoC让相互协作的组件保持松散的耦合</strong>，而AOP编程允许你把遍布于应用各层的功能分离出来形成可重用的功能组件。</p>
<h3 id="5、BeanFactory和ApplicationContext有什么区别？"><a href="/2019/10/20/Spring面试/#5、BeanFactory和ApplicationContext有什么区别？" class="headerlink" title="5、BeanFactory和ApplicationContext有什么区别？"></a>5、BeanFactory和ApplicationContext有什么区别？</h3><p>​    BeanFactory和ApplicationContext是Spring的两大核心接口，都可以当做Spring的容器。其中ApplicationContext是BeanFactory的子接口。</p>
<p>（1）BeanFactory：是Spring里面最底层的接口，包含了各种Bean的定义，读取bean配置文档，管理bean的加载、实例化，控制bean的生命周期，维护bean之间的依赖关系。<strong>ApplicationContext接口作为BeanFactory的派生</strong>，除了提供BeanFactory所具有的功能外，<strong>还提供了更完整的框架功能</strong>：</p>
<p>①继承MessageSource，因此支持国际化。</p>
<p>②统一的资源文件访问方式。</p>
<p>③提供在监听器中注册bean的事件。</p>
<p>④同时加载多个配置文件。</p>
<p>⑤载入多个（有继承关系）上下文 ，使得每一个上下文都专注于一个特定的层次，比如应用的web层。</p>
<p>（2）①==BeanFactroy采用的是延迟加载形式来注入Bean的==，即只有在使用到某个Bean时(调用getBean())，才对该Bean进行加载实例化。这样，我们就不能发现一些存在的Spring的配置问题。如果Bean的某一个属性没有注入，BeanFacotry加载后，直至第一次使用调用getBean方法才会抛出异常。</p>
<p>  ②==ApplicationContext，它是在容器启动时，一次性创建了所有的Bean==。这样，在容器启动时，我们就可以发现Spring中存在的配置错误，这样有利于检查所依赖属性是否注入。 ApplicationContext启动后预载入所有的单实例Bean，通过预载入单实例bean ,确保当你需要的时候，你就不用等待，因为它们已经创建好了。</p>
<p>③相对于基本的BeanFactory，ApplicationContext 唯一的不足是占用内存空间。当应用程序配置Bean较多时，程序启动较慢。</p>
<p>（3）BeanFactory通常以编程的方式被创建，ApplicationContext还能以声明的方式创建，如使用ContextLoader。</p>
<p>（4）BeanFactory和ApplicationContext都支持BeanPostProcessor、BeanFactoryPostProcessor的使用，但两者之间的区别是：BeanFactory需要手动注册，而ApplicationContext则是自动注册。</p>
<h3 id="6、请解释Spring-Bean的生命周期？"><a href="/2019/10/20/Spring面试/#6、请解释Spring-Bean的生命周期？" class="headerlink" title="6、请解释Spring Bean的生命周期？"></a>6、请解释Spring Bean的生命周期？</h3><h5 id="spring中的核心类"><a href="/2019/10/20/Spring面试/#spring中的核心类" class="headerlink" title="spring中的核心类"></a>spring中的核心类</h5><p>答：BeanFactory：产生一个新的实例，可以实现单例模式</p>
<p>BeanWrapper：提供统一的get及set方法</p>
<p>ApplicationContext:提供框架的实现，包括BeanFactory的所有功能</p>
<h6 id="首先说一下Servlet的生命周期："><a href="/2019/10/20/Spring面试/#首先说一下Servlet的生命周期：" class="headerlink" title="首先说一下Servlet的生命周期："></a>首先说一下Servlet的生命周期：</h6><ul>
<li>实例化</li>
<li>初始init</li>
<li>接收请求service</li>
<li>销毁destroy</li>
</ul>
<h6 id="Spring上下文中的Bean生命周期也类似，如下："><a href="/2019/10/20/Spring面试/#Spring上下文中的Bean生命周期也类似，如下：" class="headerlink" title="Spring上下文中的Bean生命周期也类似，如下："></a>Spring上下文中的Bean生命周期也类似，如下：</h6><p>（1）实例化Bean：</p>
<p>对于BeanFactory容器，当客户向容器请求一个尚未初始化的bean时，或初始化bean的时候需要注入另一个尚未初始化的依赖时，容器就会调用createBean进行实例化。对于ApplicationContext容器，当容器启动结束后，通过获取BeanDefinition对象中的信息，实例化所有的bean。</p>
<p>（2）设置对象属性（依赖注入）：==先调用空的构造器, 然后再依次注入数据的==</p>
<p>实例化后的对象被封装在BeanWrapper对象中，紧接着，Spring根据BeanDefinition中的信息 以及 通过BeanWrapper提供的设置属性的接口完成依赖注入。</p>
<p>（3）处理Aware接口： </p>
<p>接着，Spring会检测该对象是否实现了xxxAware接口，并将相关的xxxAware实例注入给Bean：</p>
<p>①如果这个Bean已经实现了BeanNameAware接口，会调用它实现的setBeanName(String beanId)方法，此处传递的就是Spring配置文件中Bean的id值；</p>
<p>②如果这个Bean已经实现了BeanFactoryAware接口，会调用它实现的setBeanFactory()方法，传递的是Spring工厂自身。</p>
<p>③如果这个Bean已经实现了ApplicationContextAware接口，会调用setApplicationContext(ApplicationContext)方法，传入Spring上下文；</p>
<p>（4）BeanPostProcessor：</p>
<p>如果想对Bean进行一些自定义的处理，那么可以让Bean实现了BeanPostProcessor接口，那将会调用postProcessBeforeInitialization(Object obj, String s)方法。由于这个方法是在Bean初始化结束时调用的，所以可以被应用于内存或缓存技术；</p>
<p>（5）InitializingBean 与 init-method：</p>
<p><u>如果Bean在Spring配置文件中配置了 init-method 属性，则会自动调用其配置的初始化方法。</u></p>
<p>（6）如果这个Bean实现了BeanPostProcessor接口，将会调用postProcessAfterInitialization(Object obj, String s)方法；</p>
<p>以上几个步骤完成后，Bean就已经被正确创建了，之后就可以使用这个Bean了。</p>
<p>（7）DisposableBean：</p>
<p>当Bean不再需要时，会经过清理阶段，如果Bean实现了DisposableBean这个接口，会调用其实现的destroy()方法；</p>
<p>（8）destroy-method：</p>
<p>最后，如果这个Bean的Spring配置中配置了destroy-method属性，会自动调用其配置的销毁方法。</p>
<h3 id="7、-解释Spring支持的几种bean的作用域。"><a href="/2019/10/20/Spring面试/#7、-解释Spring支持的几种bean的作用域。" class="headerlink" title="7、 解释Spring支持的几种bean的作用域。"></a>7、 解释Spring支持的几种bean的作用域。</h3><p>Spring容器中的bean可以分为5个范围：</p>
<p>（1）==singleton：默认==，每个容器中只有一个bean的实例，单例的模式由BeanFactory自身来维护。</p>
<p>（2）prototype：为每一个bean请求提供一个实例。(==适用于有状态的, 多线程安全情况==)</p>
<p>（3）request：为每一个网络请求创建一个实例，在请求完成以后，bean会失效并被垃圾回收器回收。</p>
<p>（4）session：与request范围类似，确保每个session中有一个bean的实例，在session过期后，bean会随之失效。</p>
<p>（5）global-session：全局作用域，global-session和Portlet应用相关。当你的应用部署在Portlet容器中工作时，它包含很多portlet。如果你想要声明让所有的portlet共用全局的存储变量的话，那么这全局变量需要存储在global-session中。全局作用域与Servlet中的session作用域效果相同。</p>
<h3 id="8、Spring框架中的单例Beans是线程安全的么？可以视为安全"><a href="/2019/10/20/Spring面试/#8、Spring框架中的单例Beans是线程安全的么？可以视为安全" class="headerlink" title="8、Spring框架中的单例Beans是线程安全的么？可以视为安全"></a>8、Spring框架中的单例Beans是线程安全的么？可以视为安全</h3><p>  Spring框架并没有对单例bean进行任何多线程的封装处理。关于单例bean的线程安全和并发问题需要开发者自行去搞定。但实际上，大部分的Spring bean并没有可变的状态(比如Serview类和DAO类)，所以在某种程度上说Spring的单例bean是线程安全的。如果你的bean有多种状态的话（比如 View Model 对象），就需要自行保证线程安全。<u>最浅显的解决办法就是将多态bean的作用域由“singleton”变更为“prototype”。</u></p>
<h3 id="9、Spring如何处理线程并发问题？"><a href="/2019/10/20/Spring面试/#9、Spring如何处理线程并发问题？" class="headerlink" title="9、Spring如何处理线程并发问题？"></a>9、Spring如何处理线程并发问题？</h3><blockquote>
<p><strong>无状态对象: 即无状态类，是指其本身没有内部变量和外部变量的操作的，在每个用户访问的线程栈中都是一个各自的实例。</strong></p>
</blockquote>
<p>在<u>一般情况下，只有无状态的Bean才可以在多线程环境下共享</u>，在Spring中，绝大部分Bean都可以声明为singleton作用域，因为==Spring对一些Bean中非线程安全状态采用ThreadLocal进行处理，解决线程安全问题==。</p>
<p>ThreadLocal和线程同步机制都是为了解决多线程中相同变量的访问冲突问题。<strong>同步机制</strong>采用了<u>“时间换空间”</u>的方式，仅提供一份变量，不同的线程在访问前需要获取锁，没获得锁的线程则需要排队。而<strong>ThreadLocal</strong>采用了“<u>空间换时间</u>”的方式。</p>
<p>ThreadLocal会为每一个线程提供一个独立的变量副本，从而隔离了多个线程对数据的访问冲突。因为每一个线程都拥有自己的变量副本，从而也就没有必要对该变量进行同步了。ThreadLocal提供了线程安全的共享对象，在编写多线程代码时，<em>可以把不安全的变量封装进ThreadLoca</em>l。</p>
<h3 id="10-1、Spring基于xml注入bean的几种方式："><a href="/2019/10/20/Spring面试/#10-1、Spring基于xml注入bean的几种方式：" class="headerlink" title="10-1、Spring基于xml注入bean的几种方式："></a>10-1、Spring基于xml注入bean的几种方式：</h3><p>（1）Set方法注入；set方法（这是ioc的注入入口）</p>
<p>（2）构造器注入：这种方式的注入是指带有参数的构造函数注入</p>
<blockquote>
<p> public SpringAction(SpringDao springDao,User user){}①通过index设置参数的位置；</p>
</blockquote>
<ul>
<li><pre><code class="xml-dtd">&lt;bean name=&quot;springAction&quot; class=&quot;com.bless.springdemo.action.SpringAction&quot;&gt; 
&lt;constructor-arg index=&quot;0&quot; ref=&quot;springDao&quot;&gt;&lt;/constructor-arg&gt; 
&lt;constructor-arg index=&quot;1&quot; ref=&quot;user&quot;&gt;&lt;/constructor-arg&gt; 
&lt;/bean&gt; 
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ②通过type设置参数类型；</span><br><span class="line"></span><br><span class="line">  ```xml</span><br><span class="line">  &lt;!--配置bean,配置后该类由spring管理--&gt; </span><br><span class="line">  &lt;bean name=&quot;springAction&quot; class=&quot;com.bless.springdemo.action.SpringAction&quot;&gt; </span><br><span class="line">  &lt;!--(2)创建构造器注入,如果主类有带参的构造方法则需添加此配置--&gt; </span><br><span class="line">  &lt;constructor-arg ref=&quot;springDao&quot;&gt;&lt;/constructor-arg&gt; </span><br><span class="line">  &lt;constructor-arg ref=&quot;user&quot;&gt;&lt;/constructor-arg&gt; </span><br><span class="line">  &lt;/bean&gt; </span><br><span class="line">  &lt;bean name=&quot;springDao&quot; class=&quot;com.bless.springdemo.dao.impl.SpringDaoImpl&quot;&gt;&lt;/bean&gt; </span><br><span class="line">  &lt;bean name=&quot;user&quot; class=&quot;com.bless.springdemo.vo.User&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
<p>（3）静态工厂注入；就是通过调用静态工厂的方法来获取自己需要的对象，为了让spring管理所有对象，我们不能直接通过”工程类.静态方法()”来获取对象，而是依然通过spring注入的形式获取</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bless.springdemo.factory; </span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> com.bless.springdemo.dao.FactoryDao; </span><br><span class="line"><span class="keyword">import</span> com.bless.springdemo.dao.impl.FactoryDaoImpl; </span><br><span class="line"><span class="keyword">import</span> com.bless.springdemo.dao.impl.StaticFacotryDaoImpl; </span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DaoFactory</span> </span>&#123; </span><br><span class="line"><span class="comment">//静态工厂 </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> FactoryDao <span class="title">getStaticFactoryDaoImpl</span><span class="params">()</span></span>&#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> StaticFacotryDaoImpl(); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置bean,配置后该类由spring管理--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"springAction"</span> <span class="attr">class</span>=<span class="string">"com.bless.springdemo.action.SpringAction"</span> &gt;</span> </span><br><span class="line"><span class="comment">&lt;!--(3)使用静态工厂的方法注入对象,对应下面的配置文件(3)--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"staticFactoryDao"</span> <span class="attr">ref</span>=<span class="string">"staticFactoryDao"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!--(3)此处获取对象的方式是从工厂类中获取静态方法--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"staticFactoryDao"</span> <span class="attr">class</span>=<span class="string">"com.bless.springdemo.factory.DaoFactory"</span> <span class="attr">factory-method</span>=<span class="string">"getStaticFactoryDaoImpl"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>（4）实例工厂；先new 工厂类, 再通过工厂类new 实例</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置bean,配置后该类由spring管理--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"springAction"</span> <span class="attr">class</span>=<span class="string">"com.bless.springdemo.action.SpringAction"</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!--(4)使用实例工厂的方法注入对象,对应下面的配置文件(4)--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"factoryDao"</span> <span class="attr">ref</span>=<span class="string">"factoryDao"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line"> </span><br><span class="line"><span class="comment">&lt;!--(4)此处获取对象的方式是从工厂类中获取实例方法--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"daoFactory"</span> <span class="attr">class</span>=<span class="string">"com.bless.springdemo.factory.DaoFactory"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"factoryDao"</span> <span class="attr">factory-bean</span>=<span class="string">"daoFactory"</span> <span class="attr">factory-method</span>=<span class="string">"getFactoryDaoImpl"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>详细内容可以阅读：<a href="https://blog.csdn.net/a745233700/article/details/89307518">https://blog.csdn.net/a745233700/article/details/89307518</a></p>
<h3 id="10-2、Spring的自动装配："><a href="/2019/10/20/Spring面试/#10-2、Spring的自动装配：" class="headerlink" title="10-2、Spring的自动装配："></a>10-2、Spring的自动装配：</h3><p>在spring中，对象无需自己查找或创建与其关联的其他对象，由容器负责把需要相互协作的对象引用赋予各个对象，使用autowire来配置自动装载模式。</p>
<h5 id="在Spring框架xml配置中共有5种自动装配："><a href="/2019/10/20/Spring面试/#在Spring框架xml配置中共有5种自动装配：" class="headerlink" title="在Spring框架xml配置中共有5种自动装配："></a>在<strong>Spring框架xml配置</strong>中共有5种自动装配：</h5><ul>
<li><p>（1）no：默认的方式是不进行自动装配的，通过手工设置ref属性来进行装配bean。</p>
</li>
<li><p>（2）byName：通过bean的名称进行自动装配，如果一个bean的 property 与另一bean 的name 相同，就进行自动装配。 </p>
</li>
<li><p>（3）byType：通过参数的数据类型进行自动装配。</p>
</li>
<li><p>（4）constructor：利用构造函数进行装配，并且构造函数的参数通过byType进行装配。</p>
</li>
<li><p>（5）autodetect：自动探测，如果有构造方法，通过 construct的方式自动装配，否则使用 byType的方式自动装配。</p>
</li>
</ul>
<h5 id="基于注解的方式："><a href="/2019/10/20/Spring面试/#基于注解的方式：" class="headerlink" title="基于注解的方式："></a>基于注解的方式：</h5><p>使用@Autowired注解来自动装配指定的bean。在使用@Autowired注解之前需要在Spring配置文件进行配置，&lt;context:annotation-config /&gt;。在启动spring IoC时，容器自动装载了一个AutowiredAnnotationBeanPostProcessor后置处理器，当容器扫描到@Autowied、@Resource或@Inject时，就会在IoC容器自动查找需要的bean，并装配给该对象的属性。在使用@Autowired时，首先在容器中查询对应类型的bean：</p>
<p>如果查询结果刚好为一个，就将该bean装配给@Autowired指定的数据；</p>
<p>如果查询的结果不止一个，那么@Autowired会根据名称来查找；</p>
<p>如果上述查找的结果为空，那么会抛出异常。解决方法时，使用required=false。</p>
<p>@Autowired可用于：构造函数、成员变量、Setter方法</p>
<h5 id="注：-Autowired和-Resource之间的区别"><a href="/2019/10/20/Spring面试/#注：-Autowired和-Resource之间的区别" class="headerlink" title="注：@Autowired和@Resource之间的区别"></a><em>注：@Autowired和@Resource之间的区别</em></h5><p>(1) <strong>@Autowired</strong>默认是按照<strong>类型</strong>装配注入的，默认情况下它要求依赖对象必须存在（可以设置它required属性为false）。</p>
<p>(2) <strong>@Resource</strong>默认是按照<strong>名称</strong>来装配注入的，只有当找不到与名称匹配的bean才会按照类型来装配注入。</p>
<h3 id="11、Spring-框架中都用到了哪些设计模式？"><a href="/2019/10/20/Spring面试/#11、Spring-框架中都用到了哪些设计模式？" class="headerlink" title="11、Spring 框架中都用到了哪些设计模式？!!!!!"></a>11、Spring 框架中都用到了哪些设计模式？!!!!!</h3><ul>
<li><p>（1）工厂模式：BeanFactory就是简单工厂模式的体现，用来创建对象的实例；</p>
</li>
<li><p>（2）单例模式：Bean默认为单例模式。</p>
</li>
<li><p>（3）代理模式：Spring的AOP功能用到了JDK的动态代理和CGLIB字节码生成技术；</p>
</li>
<li><p>（4）模板方法：用来解决代码重复的问题。比如. RestTemplate, JmsTemplate, JpaTemplate。</p>
</li>
<li><p>（5）观察者模式：定义对象键一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都会得到通知被制动更新，如Spring中listener的实现–ApplicationListener。</p>
</li>
</ul>
<h3 id="12、Spring事务的实现方式和实现原理："><a href="/2019/10/20/Spring面试/#12、Spring事务的实现方式和实现原理：" class="headerlink" title="12、Spring事务的实现方式和实现原理："></a>12、Spring事务的实现方式和实现原理：</h3><p><strong>Spring事务的本质其实就是数据库对事务的支持</strong>，没有数据库的事务支持，spring是无法提供事务功能的。真正的数据库层的事务提交和回滚是通过binlog或者redo log实现的。</p>
<h5 id="（1）Spring事务的种类："><a href="/2019/10/20/Spring面试/#（1）Spring事务的种类：" class="headerlink" title="（1）Spring事务的种类："></a>（1）Spring事务的种类：</h5><p>spring支持<strong>编程式事务管理</strong>和<strong>声明式事务管理</strong>两种方式：<strong><em>编程式</em></strong>,顾名思义需要体现在业务代码的编写中, 而<strong><em>声明式</em></strong>相当于注解的方式, 写上注解之后,spring框架利用aop技术进行事务管理</p>
<p>①编程式事务管理使用TransactionTemplate。</p>
<p>②声明式事务管理建立在AOP之上的。其本质是<u>通过AOP功能，对方法前后进行拦截</u>，将事务处理的功能编织到拦截的方法中，也就是在目标方法开始之前加入一个事务，在<u>执行完目标方法之后根据执行情况提交或者回滚事务</u>。</p>
<p>声明式事务最大的优点就是不需要在业务逻辑代码中掺杂事务管理的代码，只需在配置文件中做相关的事务规则声明或通过<strong>@Transactional注解的方式，便可以将事务规则应用到业务逻辑中</strong>。</p>
<p>声明式事务管理要优于编程式事务管理，这正是spring倡导的非侵入式的开发方式，使业务代码不受污染，只要加上注解就可以获得完全的事务支持。唯一不足地方是，最细粒度只能作用到方法级别，无法做到像编程式事务那样可以作用到代码块级别。</p>
<h5 id="（2）spring的事务传播行为："><a href="/2019/10/20/Spring面试/#（2）spring的事务传播行为：" class="headerlink" title="（2）spring的事务传播行为："></a>（2）spring的事务传播行为：</h5><p><code>propagation 传播, 继承</code></p>
<p>spring事务的传播行为说的是，当多个事务同时存在的时候，spring如何处理这些事务的行为。</p>
<ul>
<li><p>==① PROPAGATION_REQUIRED：如果当前没有事务，就创建一个新事务，如果当前存在事务，就加入该事务，该设置是最常用的设置。==</p>
</li>
<li><p>② PROPAGATION_SUPPORTS：支持当前事务，如果当前存在事务，就加入该事务，如果当前不存在事务，就以非事务执行。‘</p>
</li>
<li><p>③ PROPAGATION_MANDATORY：支持当前事务，如果当前存在事务，就加入该事务，如果当前不存在事务，就抛出异常。</p>
</li>
<li><p>==④ PROPAGATION_REQUIRES_NEW：创建新事务，无论当前存不存在事务，都创建新事务。==</p>
</li>
<li><p>⑤ PROPAGATION_NOT_SUPPORTED：以非事务方式执行操作，如果当前存在事务，就把当前事务挂起。</p>
</li>
<li><p>⑥ PROPAGATION_NEVER：以非事务方式执行，如果当前存在事务，则抛出异常。</p>
</li>
<li><p>==⑦ PROPAGATION_NESTED：如果当前存在事务，则在嵌套事务内执行。如果当前没有事务，则按REQUIRED属性执行。==</p>
</li>
</ul>
<h5 id="（3）Spring中的隔离级别："><a href="/2019/10/20/Spring面试/#（3）Spring中的隔离级别：" class="headerlink" title="（3）Spring中的隔离级别："></a>（3）Spring中的隔离级别：</h5><ul>
<li><p>① ISOLATION_DEFAULT：这是个 PlatfromTransactionManager 默认的隔离级别，使用数据库默认的事务隔离级别。</p>
</li>
<li><p>② ISOLATION_READ_UNCOMMITTED：读未提交，允许另外一个事务可以看到这个事务未提交的数据。</p>
</li>
<li><p>③ ISOLATION_READ_COMMITTED：读已提交，保证一个事务修改的数据提交后才能被另一事务读取，而且能看到该事务对已有记录的更新。</p>
</li>
<li><p>④ ISOLATION_REPEATABLE_READ：可重复读，保证一个事务修改的数据提交后才能被另一事务读取，但是不能看到该事务对已有记录的更新。</p>
</li>
<li><p>⑤ ISOLATION_SERIALIZABLE：一个事务在执行的过程中完全看不到其他事务对数据库所做的更新。</p>
</li>
</ul>
<h3 id="13、Spring框架中有哪些不同类型的事件？"><a href="/2019/10/20/Spring面试/#13、Spring框架中有哪些不同类型的事件？" class="headerlink" title="13、Spring框架中有哪些不同类型的事件？"></a>13、Spring框架中有哪些不同类型的事件？</h3><p>Spring 提供了以下5种标准的事件：</p>
<ul>
<li><p>（1）<strong>上下文更新事件</strong>（ContextRefreshedEvent）：在调用ConfigurableApplicationContext 接口中的refresh()方法时被触发。</p>
</li>
<li><p>（2）<strong>上下文开始事件</strong>（ContextStartedEvent）：当容器调用ConfigurableApplicationContext的Start()方法开始/重新开始容器时触发该事件。</p>
</li>
<li><p>（3）<strong>上下文停止事件</strong>（ContextStoppedEvent）：当容器调用ConfigurableApplicationContext的Stop()方法停止容器时触发该事件。</p>
</li>
<li><p>（4）<strong>上下文关闭事件</strong>（ContextClosedEvent）：当ApplicationContext被关闭时触发该事件。容器被关闭时，其管理的所有单例Bean都被销毁。</p>
</li>
<li><p>（5）<strong>请求处理事件</strong>（RequestHandledEvent）：在Web应用中，当一个http请求（request）结束触发该事件。</p>
</li>
</ul>
<p>如果一个bean实现了ApplicationListener接口，当一个ApplicationEvent 被发布以后，bean会自动被通知。</p>
<h3 id="14、解释一下Spring-AOP里面的几个名词："><a href="/2019/10/20/Spring面试/#14、解释一下Spring-AOP里面的几个名词：" class="headerlink" title="14、解释一下Spring AOP里面的几个名词："></a>14、解释一下Spring AOP里面的几个名词：</h3><ul>
<li><p>（1）切面（Aspect）：被抽取的公共模块，可能会横切多个对象。 在Spring AOP中，切面可以使用通用类（基于模式的风格） 或者在普通类中以 @AspectJ 注解来实现。</p>
</li>
<li><p>（2）连接点（Join point）：指方法，在Spring AOP中，<strong>一个连接点 总是 代表一个方法的执行</strong>。 </p>
</li>
<li><p>（3）通知（Advice）：在切面的某个特定的连接点（Join point）上执行的动作。通知有各种类型，其中包括“around”、“before”和“after”等通知。许多AOP框架，包括Spring，都是以拦截器做通知模型， 并维护一个以连接点为中心的拦截器链。</p>
</li>
<li><p>（4）切入点（Pointcut）：<strong>切入点是指 我们要对哪些Join point进行拦截的定义</strong>。通过切入点表达式，指定拦截的方法，比如指定拦截add<em>、search</em>。</p>
</li>
<li><p>（5）引入（Introduction）：（也被称为内部类型声明（inter-type declaration））。声明额外的方法或者某个类型的字段。Spring允许引入新的接口（以及一个对应的实现）到任何被代理的对象。例如，你可以使用一个引入来使bean实现 IsModified 接口，以便简化缓存机制。</p>
</li>
<li><p>（6）目标对象（Target Object）： 被一个或者多个切面（aspect）所通知（advise）的对象。也有人把它叫做 被通知（adviced） 对象。 既然Spring AOP是通过运行时代理实现的，这个对象永远是一个 被代理（proxied） 对象。</p>
</li>
<li><p>（7）织入（Weaving）：指<strong>把增强应用到目标对象来创建新的代理对象的过程</strong>。Spring是在运行时完成织入。</p>
</li>
<li><p>切入点（pointcut）和连接点（join point）匹配的概念是AOP的关键，这使得AOP不同于其它仅仅提供拦截功能的旧技术。 切入点使得定位通知（advice）可独立于OO层次。 例如，一个提供声明式事务管理的around通知可以被应用到一组横跨多个对象中的方法上（例如服务层的所有业务操作）。</p>
</li>
</ul>
<h3 id="15、Spring通知有哪些类型？"><a href="/2019/10/20/Spring面试/#15、Spring通知有哪些类型？" class="headerlink" title="15、Spring通知有哪些类型？"></a>15、Spring通知有哪些类型？</h3><p><a href="https://blog.csdn.net/qq_32331073/article/details/80596084">https://blog.csdn.net/qq_32331073/article/details/80596084</a></p>
<p>（1）前置通知（Before advice）：在某连接点（join point）之前执行的通知，但这个通知不能阻止连接点前的执行（除非它抛出一个异常）。</p>
<p>（2）返回后通知（After returning advice）：在某连接点（join point）正常完成后执行的通知：例如，一个方法没有抛出任何异常，正常返回。 </p>
<p>（3）抛出异常后通知（After throwing advice）：在方法抛出异常退出时执行的通知。 </p>
<p>（4）后通知（After (finally) advice）：当某连接点退出的时候执行的通知（不论是正常返回还是异常退出）。 </p>
<p>（5）环绕通知（Around Advice）：包围一个连接点（join point）的通知，如方法调用。这是最强大的一种通知类型。 环绕通知可以<strong>在方法调用前后完成自定义的行为</strong>。它也会选择是否继续执行连接点或直接返回它们自己的返回值或抛出异常来结束执行。 环绕通知是最常用的一种通知类型。大部分基于拦截的AOP框架，例如Nanning和JBoss4，都只提供环绕通知。 </p>
<p>同一个aspect，不同advice的执行顺序：</p>
<p>①没有异常情况下的执行顺序：</p>
<ol>
<li>*<em>around *</em>before advice</li>
<li>before advice</li>
<li>target method 执行</li>
<li><strong>around</strong> after advice</li>
<li>after advice</li>
<li>afterReturning</li>
</ol>
<p>②有异常情况下的执行顺序：</p>
<ol>
<li><p><strong>around</strong> before advice</p>
</li>
<li><p>before advice</p>
</li>
<li><p>target method 执行</p>
</li>
<li><p>around** after advice</p>
</li>
<li><p>after advice</p>
</li>
<li><p>afterThrowing:异常发生</p>
</li>
<li><p>java.lang.RuntimeException: 异常发生</p>
</li>
</ol>
<h2 id="Springmvc"><a href="/2019/10/20/Spring面试/#Springmvc" class="headerlink" title="Springmvc"></a>Springmvc</h2><p>[TOC]</p>
<h3 id="1、什么是Spring-MVC-？简单介绍下你对springMVC的理解"><a href="/2019/10/20/Spring面试/#1、什么是Spring-MVC-？简单介绍下你对springMVC的理解" class="headerlink" title="1、什么是Spring MVC ？简单介绍下你对springMVC的理解?"></a>1、什么是Spring MVC ？简单介绍下你对springMVC的理解?</h3><p>Spring MVC是一个<strong>基于Java的实现了MVC设计模式</strong>的请求驱动类型的<strong>轻量级Web框架</strong>，通过把Model，View，Controller分离，将web层进行职责解耦，把复杂的web应用分成逻辑清晰的几部分，简化开发，减少出错，方便组内开发人员之间的配合。</p>
<h3 id="2、SpringMVC的流程？"><a href="/2019/10/20/Spring面试/#2、SpringMVC的流程？" class="headerlink" title="2、SpringMVC的流程？"></a>2、SpringMVC的流程？</h3><p>（1）用户发送请求至前端控制器DispatcherServlet；<br>（2） DispatcherServlet收到请求后，调用HandlerMapping处理器映射器，请求获取Handle；<br>（3）处理器映射器根据请求url找到具体的处理器，生成处理器对象及处理器拦截器(如果有则生成)一并返回给DispatcherServlet；<br>（4）DispatcherServlet 调用 HandlerAdapter处理器适配器；<br>（5）HandlerAdapter 经过适配调用 具体处理器(Handler，也叫后端控制器)；<br>（6）Handler执行完成返回ModelAndView；<br>（7）HandlerAdapter将Handler执行结果ModelAndView返回给DispatcherServlet；<br>（8）DispatcherServlet将ModelAndView传给ViewResolver视图解析器进行解析；<br>（9）ViewResolver解析后返回具体View；<br>（10）DispatcherServlet对View进行渲染视图（即将模型数据填充至视图中）<br>（11）DispatcherServlet响应用户。</p>
<h3 id="3、Springmvc的优点"><a href="/2019/10/20/Spring面试/#3、Springmvc的优点" class="headerlink" title="3、Springmvc的优点:"></a>3、Springmvc的优点:</h3><p>（1）可以<strong>支持各种视图技术</strong>,而不仅仅局限于JSP；</p>
<p>（2）与<strong>Spring框架集成</strong>（如<strong>IoC</strong>容器、<strong>AOP</strong>等）；</p>
<p>（3）<strong>清晰的角色分配</strong>：前端控制器(dispatcherServlet) , 请求到处理器映射（handlerMapping), 处理器适配器（HandlerAdapter), 视图解析器（ViewResolver）。</p>
<p>（4） 支持各种请求资源的映射策略。</p>
<h3 id="4、Spring-MVC的主要组件？"><a href="/2019/10/20/Spring面试/#4、Spring-MVC的主要组件？" class="headerlink" title="4、Spring MVC的主要组件？"></a>4、Spring MVC的主要组件？</h3><p>（1）前端控制器 DispatcherServlet（不需要程序员开发）</p>
<p>作用：<strong>接收请求、响应结果</strong>，相当于转发器，有了DispatcherServlet 就减少了其它组件之间的耦合度。</p>
<p>（2）处理器映射器HandlerMapping（不需要程序员开发）</p>
<p>作用：根据请求的URL来查找Handler</p>
<p>（3）==处理器适配器HandlerAdapter==</p>
<p>注意：在编写Handler的时候要按照HandlerAdapter要求的规则去编写，这样适配器HandlerAdapter才可以正确的去执行Handler。</p>
<p>（4）==处理器Handler（需要程序员开发）==</p>
<p>（5）视图解析器 ViewResolver（不需要程序员开发）</p>
<p>作用：进行视图的解析，根据视图逻辑名解析成真正的视图（view）</p>
<p>（6）==视图View（需要程序员开发jsp）==</p>
<p>View是一个接口， 它的实现类支持不同的视图类型（jsp，freemarker，pdf等等）</p>
<h3 id="5、springMVC和struts2的区别有哪些"><a href="/2019/10/20/Spring面试/#5、springMVC和struts2的区别有哪些" class="headerlink" title="5、springMVC和struts2的区别有哪些?"></a>5、springMVC和struts2的区别有哪些?</h3><p>（1）springmvc的入口是一个servlet即<strong>前端控制器（DispatchServlet）</strong>，<strong>而struts2入口是一个filter过虑器</strong>（StrutsPrepareAndExecuteFilter）。</p>
<p>（2）<strong>springmvc是基于方法开发</strong>(一个url对应一个方法)，请求参数传递到方法的形参，可以设计为单例或多例(建议单例)，struts2是基于类开发，传递参数是通过类的属性，只能设计为多例。</p>
<p>（3）<strong>Struts采用值栈存储请求和响应的数据，通过OGNL存取数据</strong>，springmvc通过参数解析器是将request请求内容解析，并给方法形参赋值，将数据和视图封装成ModelAndView对象，最后又将ModelAndView中的模型数据通过reques域传输到页面。<strong>Jsp视图解析器默认使用jstl。</strong></p>
<h3 id="6、SpringMVC怎么样设定重定向和转发的？"><a href="/2019/10/20/Spring面试/#6、SpringMVC怎么样设定重定向和转发的？" class="headerlink" title="6、SpringMVC怎么样设定重定向和转发的？"></a>6、SpringMVC怎么样设定重定向和转发的？</h3><p>（1）转发：在返回值前面加”<strong>forward:</strong>“，譬如”forward:user.do?name=method4”</p>
<p>（2）重定向：在返回值前面加”<strong>redirect:</strong>“，譬如”redirect:<a href="http://www.baidu.com&quot;">http://www.baidu.com&quot;</a></p>
<h3 id="7、SpringMvc怎么和AJAX相互调用的？"><a href="/2019/10/20/Spring面试/#7、SpringMvc怎么和AJAX相互调用的？" class="headerlink" title="7、SpringMvc怎么和AJAX相互调用的？"></a>7、SpringMvc怎么和AJAX相互调用的？</h3><p>通过Jackson框架就可以把Java里面的对象直接转化成Js可以识别的Json对象。具体步骤如下 ：</p>
<ul>
<li>（1）加入Jackson.jar, 需要相应的依赖包</li>
<li>（2）在配置文件中配置json的映射, 配置json数据的映射</li>
<li>（3）在接受Ajax方法里面可以直接返回Object,List等,但方法前面要<strong>加上@ResponseBody注解</strong>。</li>
</ul>
<h3 id="8、如何解决POST请求中文乱码问题，GET的又如何处理呢？"><a href="/2019/10/20/Spring面试/#8、如何解决POST请求中文乱码问题，GET的又如何处理呢？" class="headerlink" title="8、如何解决POST请求中文乱码问题，GET的又如何处理呢？"></a>8、如何解决POST请求中文乱码问题，GET的又如何处理呢？</h3><h5 id="（1）解决post请求乱码问题："><a href="/2019/10/20/Spring面试/#（1）解决post请求乱码问题：" class="headerlink" title="（1）解决post请求乱码问题："></a>（1）解决post请求乱码问题：</h5><p>在web.xml中配置一个CharacterEncodingFilter过滤器，设置成utf-8；</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>utf-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--过滤全局的请求, 都把字符集设为utf-8 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="（2）get请求中文参数出现乱码解决方法有两个："><a href="/2019/10/20/Spring面试/#（2）get请求中文参数出现乱码解决方法有两个：" class="headerlink" title="（2）get请求中文参数出现乱码解决方法有两个："></a>（2）get请求中文参数出现乱码解决方法有两个：</h5><p>①修改tomcat配置文件添加编码与工程编码一致，如下：</p>
<p>&lt;ConnectorURIEncoding=”utf-8” connectionTimeout=”20000” port=”8080” protocol=”HTTP/1.1” redirectPort=”8443”/&gt;</p>
<p> ②另外一种方法对参数进行重新编码：</p>
<p>String userName = new String(request.getParamter(“userName”).getBytes(“ISO8859-1”),”utf-8”)</p>
<p>ISO8859-1是tomcat默认编码，需要将tomcat编码后的内容按utf-8编码。</p>
<h3 id="9、Spring-MVC的异常处理-？"><a href="/2019/10/20/Spring面试/#9、Spring-MVC的异常处理-？" class="headerlink" title="9、Spring MVC的异常处理 ？"></a>9、Spring MVC的异常处理 ？</h3><p>答：可以将异常抛给Spring框架，由Spring框架来处理；我们只需要配置简单的异常处理器，在异常处理器中添视图页面即可。</p>
<h3 id="10、SpringMvc的控制器是不是单例模式-如果是-有什么问题-怎么解决？"><a href="/2019/10/20/Spring面试/#10、SpringMvc的控制器是不是单例模式-如果是-有什么问题-怎么解决？" class="headerlink" title="10、SpringMvc的控制器是不是单例模式,如果是,有什么问题,怎么解决？!!!"></a>10、SpringMvc的控制器是不是单例模式,如果是,有什么问题,怎么解决？!!!</h3><p>答：是单例模式,所以在多线程访问的时候有线程安全问题,<u>不要用同步,会影响性能的</u>,<strong>解决方案是在控制器里面不能写字段。</strong>  <code>不写字段就不会存在,有状态的资源共享, 就不会有线程安全问题</code></p>
<h3 id="11、-SpringMVC常用的注解有哪些？"><a href="/2019/10/20/Spring面试/#11、-SpringMVC常用的注解有哪些？" class="headerlink" title="11、 SpringMVC常用的注解有哪些？"></a>11、 SpringMVC常用的注解有哪些？</h3><p>@RequestMapping：用于处理请求 url 映射的注解，可用于类或方法上。用于类上，则表示类中的所有响应请求的方法都是以该地址作为父路径。</p>
<p>@RequestBody：注解实现<strong>接收http请求的json数据，将json转换为java对象</strong>。</p>
<p>@ResponseBody：注解实现将conreoller方法返回对象转化为json对象响应给客户。</p>
<h3 id="12、SpingMvc中的控制器的注解一般用那个-有没有别的注解可以替代？"><a href="/2019/10/20/Spring面试/#12、SpingMvc中的控制器的注解一般用那个-有没有别的注解可以替代？" class="headerlink" title="12、SpingMvc中的控制器的注解一般用那个,有没有别的注解可以替代？"></a>12、SpingMvc中的控制器的注解一般用那个,有没有别的注解可以替代？</h3><p>答：一般用@Conntroller注解,表示是表现层,不能用别的注解代替。</p>
<h3 id="13、如果在拦截请求中，我想拦截get方式提交的方法-怎么配置？"><a href="/2019/10/20/Spring面试/#13、如果在拦截请求中，我想拦截get方式提交的方法-怎么配置？" class="headerlink" title="13、如果在拦截请求中，我想拦截get方式提交的方法,怎么配置？"></a>13、如果在拦截请求中，我想拦截get方式提交的方法,怎么配置？</h3><p>答：可以在@RequestMapping注解里面加上method=RequestMethod.GET。</p>
<h3 id="14、怎样在方法里面得到Request-或者Session？"><a href="/2019/10/20/Spring面试/#14、怎样在方法里面得到Request-或者Session？" class="headerlink" title="14、怎样在方法里面得到Request,或者Session？"></a>14、怎样在方法里面得到Request,或者Session？</h3><p>答：直接在方法的形参中声明request,SpringMvc就自动把request对象传入。</p>
<h3 id="15、如果想在拦截的方法里面得到从前台传入的参数-怎么得到？"><a href="/2019/10/20/Spring面试/#15、如果想在拦截的方法里面得到从前台传入的参数-怎么得到？" class="headerlink" title="15、如果想在拦截的方法里面得到从前台传入的参数,怎么得到？"></a>15、如果想在拦截的方法里面得到从前台传入的参数,怎么得到？</h3><p>答：直接在形参里面声明这个参数就可以,但必须<strong>名字和传过来的参数一样</strong>。==spirngmvc通过name属性来注入, 不是通过html中的id熟悉==</p>
<h3 id="16、如果前台有很多个参数传入-并且这些参数都是一个对象的-那么怎么样快速得到这个对象？"><a href="/2019/10/20/Spring面试/#16、如果前台有很多个参数传入-并且这些参数都是一个对象的-那么怎么样快速得到这个对象？" class="headerlink" title="16、如果前台有很多个参数传入,并且这些参数都是一个对象的,那么怎么样快速得到这个对象？"></a>16、如果前台有很多个参数传入,并且这些参数都是一个对象的,那么怎么样快速得到这个对象？</h3><p>答：直接在方法中声明这个对象,SpringMvc就自动会把属性赋值到这个对象里面。</p>
<h3 id="17、SpringMvc中函数的返回值是什么？"><a href="/2019/10/20/Spring面试/#17、SpringMvc中函数的返回值是什么？" class="headerlink" title="17、SpringMvc中函数的返回值是什么？"></a>17、SpringMvc中函数的返回值是什么？</h3><p>答：返回值可以有很多类型,有String, ModelAndView。ModelAndView类把视图和数据都合并的一起的，但一般用String比较好, ==如果加了json的支持, 可以返回任何类型;==</p>
<h3 id="18、SpringMvc用什么对象从后台向前台传递数据的？"><a href="/2019/10/20/Spring面试/#18、SpringMvc用什么对象从后台向前台传递数据的？" class="headerlink" title="18、SpringMvc用什么对象从后台向前台传递数据的？"></a>18、SpringMvc用什么对象从后台向前台传递数据的？</h3><p>答：通过<strong>ModelMap</strong>对象,可以在这个对象里面调用<strong>put</strong>方法,把对象加到里面,<strong>前台就可以通过el表达式</strong>拿到。</p>
<h3 id="19、怎么样把ModelMap里面的数据放入Session里面？"><a href="/2019/10/20/Spring面试/#19、怎么样把ModelMap里面的数据放入Session里面？" class="headerlink" title="19、怎么样把ModelMap里面的数据放入Session里面？"></a>19、怎么样把ModelMap里面的数据放入Session里面？</h3><p>答：可以在<strong>类上面加上@SessionAttributes注解</strong>,里面<strong>包含的字符串就是要放入session里面的key</strong>。</p>
<h3 id="20、SpringMvc里面拦截器是怎么写的："><a href="/2019/10/20/Spring面试/#20、SpringMvc里面拦截器是怎么写的：" class="headerlink" title="20、SpringMvc里面拦截器是怎么写的："></a>20、SpringMvc里面拦截器是怎么写的：</h3><ol>
<li>现HandlerInterceptor接口, 接着在接口方法当中，实现处理逻辑；</li>
<li>继承适配器类, 重写相应的方法</li>
</ol>
<p>然后在SpringMvc的配置文件中配置拦截器即可：</p>
  <!-- 配置SpringMvc的拦截器 -->



<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:interceptors</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 配置一个拦截器的Bean就可以了 默认是对所有请求都拦截 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"myInterceptor"</span> <span class="attr">class</span>=<span class="string">"com.zwp.action.MyHandlerInterceptor"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 只针对部分请求拦截 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">mvc:mapping</span> <span class="attr">path</span>=<span class="string">"/modelMap.do"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"com.zwp.action.MyHandlerInterceptorAdapter"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:interceptors</span>&gt;</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="21、注解原理："><a href="/2019/10/20/Spring面试/#21、注解原理：" class="headerlink" title="21、注解原理："></a>21、注解原理：</h3><p>注解本质是一个继承了<strong>Annotation</strong>的特殊接口，其具体实现类是Java运行时生成的动态代理类。我们<strong>通过反射</strong>获取注解时，<strong>返回</strong>的是Java运行时<strong>生成的动态代理对象</strong>。通过<strong>代理对象调用自定义注解的方法</strong>，会最终调用AnnotationInvocationHandler的invoke方法。该方法会从memberValues这个Map中索引出对应的值。而memberValues的来源是Java常量池。</p>

      </div>
      
        <br>
        


  <section class='meta' id="footer-meta">
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date" itemprop="dateUpdated" datetime="2019-10-20T14:04:59+08:00">
  <a class='notlink'>
    <i class="fas fa-clock" aria-hidden="true"></i>
    <p>updated at Oct 20, 2019</p>
  </a>
</div>

        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/tags/IT/" rel="nofollow"><i class="fas fa-tag" aria-hidden="true"></i><p>IT</p></a></div> <div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/" rel="nofollow"><i class="fas fa-tag" aria-hidden="true"></i><p>技术笔记</p></a></div> <div class="new-meta-item meta-tags"><a class="tag" href="/tags/Job/" rel="nofollow"><i class="fas fa-tag" aria-hidden="true"></i><p>Job</p></a></div> <div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%80%E5%8F%91/" rel="nofollow"><i class="fas fa-tag" aria-hidden="true"></i><p>服务端开发</p></a></div> <div class="new-meta-item meta-tags"><a class="tag" href="/tags/Spring/" rel="nofollow"><i class="fas fa-tag" aria-hidden="true"></i><p>Spring</p></a></div>


        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="QQ好友" rel="external nofollow noopener noreferrer"
          
          href="http://connect.qq.com/widget/shareqq/index.html?url=/2019/10/20/Spring%E9%9D%A2%E8%AF%95/&title=Spring面试 | Hexo&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qq.png">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="QQ空间" rel="external nofollow noopener noreferrer"
          
          href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=/2019/10/20/Spring%E9%9D%A2%E8%AF%95/&title=Spring面试 | Hexo&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qzone.png">
          
        </a>
      
    
      
        <a class="-mob-share-weibo" title="微博" rel="external nofollow noopener noreferrer"
          
          href="http://service.weibo.com/share/share.php?url=/2019/10/20/Spring%E9%9D%A2%E8%AF%95/&title=Spring面试 | Hexo&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/weibo.png">
          
        </a>
      
    
  </div>
</div>



        
      
    </div>
  </section>


      
      
          <div class="prev-next">
              
                  <section class="prev">
                      <span class="art-item-left">
                          <h6><i class="fas fa-chevron-left" aria-hidden="true"></i>&nbsp;Previous</h6>
                          <h4>
                              <a href="/2019/10/20/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/" rel="prev" title="算法笔记">
                                
                                    算法笔记
                                
                              </a>
                          </h4>
                          
                              
                              <h6 class="tags">
                                  <a class="tag" href="/tags/IT/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> IT</a> <a class="tag" href="/tags/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> 技术笔记</a> <a class="tag" href="/tags/Job/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> Job</a> <a class="tag" href="/tags/%E7%AE%97%E6%B3%95/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> 算法</a> <a class="tag" href="/tags/%E6%8E%92%E5%BA%8F/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> 排序</a> <a class="tag" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> 数据结构</a>
                              </h6>
                          
                      </span>
                  </section>
              
              
                  <section class="next">
                      <span class="art-item-right" aria-hidden="true">
                          <h6>Next&nbsp;<i class="fas fa-chevron-right" aria-hidden="true"></i></h6>
                          <h4>
                              <a href="/2019/10/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="prev" title="计算机网络">
                                  
                                      计算机网络
                                  
                              </a>
                          </h4>
                          
                              
                              <h6 class="tags">
                                  <a class="tag" href="/tags/IT/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> IT</a> <a class="tag" href="/tags/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> 技术笔记</a> <a class="tag" href="/tags/Job/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> Job</a> <a class="tag" href="/tags/%E7%BD%91%E7%BB%9C/"><i class="fas fa-tag fa-fw" aria-hidden="true"></i> 网络</a>
                              </h6>
                          
                      </span>
                  </section>
              
          </div>
      
    </section>
  </article>



  <!-- 显示推荐文章和评论 -->



  






<!-- 根据页面mathjax变量决定是否加载MathJax数学公式js -->



  <script>
    window.subData = {
      title: 'Spring面试',
      tools: true
    }
  </script>


</div>
<aside class='l_side'>
  
    
    
      
      
        
          
          
            
              <section class='widget author'>
  <div class='content pure'>
    
      <div class='avatar'>
        <img class='avatar' src='https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/avatar/avatar.png'/>
      </div>
    
    
    
      <div class="social-wrapper">
        
          
            <a href="/atom.xml"
              class="social fas fa-rss flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="mailto:dmlys@live.com"
              class="social fas fa-envelope flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://github.com/ChanMango"
              class="social fab fa-github flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://music.163.com/#/user/home?id=118376074"
              class="social fas fa-headphones-alt flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
      </div>
    
  </div>
</section>

            
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
            
              
  <section class='widget toc-wrapper'>
    
<header class='pure'>
  <div><i class="fas fa-list fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;TOC</div>
  
    <!-- <div class='wrapper'><a class="s-toc rightBtn" rel="external nofollow noopener noreferrer" href="javascript:void(0)"><i class="fas fa-thumbtack fa-fw"></i></a></div> -->
  
</header>

    <div class='content pure'>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring"><span class="toc-text">Spring</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Spring是什么"><span class="toc-text">1. Spring是什么?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Spring-的优点？"><span class="toc-text">2. Spring 的优点？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、Spring的AOP理解："><span class="toc-text">3、Spring的AOP理解：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、Spring的IoC理解："><span class="toc-text">4、Spring的IoC理解：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、BeanFactory和ApplicationContext有什么区别？"><span class="toc-text">5、BeanFactory和ApplicationContext有什么区别？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、请解释Spring-Bean的生命周期？"><span class="toc-text">6、请解释Spring Bean的生命周期？</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#spring中的核心类"><span class="toc-text">spring中的核心类</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#首先说一下Servlet的生命周期："><span class="toc-text">首先说一下Servlet的生命周期：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Spring上下文中的Bean生命周期也类似，如下："><span class="toc-text">Spring上下文中的Bean生命周期也类似，如下：</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7、-解释Spring支持的几种bean的作用域。"><span class="toc-text">7、 解释Spring支持的几种bean的作用域。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8、Spring框架中的单例Beans是线程安全的么？可以视为安全"><span class="toc-text">8、Spring框架中的单例Beans是线程安全的么？可以视为安全</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9、Spring如何处理线程并发问题？"><span class="toc-text">9、Spring如何处理线程并发问题？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1、Spring基于xml注入bean的几种方式："><span class="toc-text">10-1、Spring基于xml注入bean的几种方式：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2、Spring的自动装配："><span class="toc-text">10-2、Spring的自动装配：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#在Spring框架xml配置中共有5种自动装配："><span class="toc-text">在Spring框架xml配置中共有5种自动装配：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#基于注解的方式："><span class="toc-text">基于注解的方式：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#注：-Autowired和-Resource之间的区别"><span class="toc-text">注：@Autowired和@Resource之间的区别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11、Spring-框架中都用到了哪些设计模式？"><span class="toc-text">11、Spring 框架中都用到了哪些设计模式？!!!!!</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12、Spring事务的实现方式和实现原理："><span class="toc-text">12、Spring事务的实现方式和实现原理：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#（1）Spring事务的种类："><span class="toc-text">（1）Spring事务的种类：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#（2）spring的事务传播行为："><span class="toc-text">（2）spring的事务传播行为：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#（3）Spring中的隔离级别："><span class="toc-text">（3）Spring中的隔离级别：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13、Spring框架中有哪些不同类型的事件？"><span class="toc-text">13、Spring框架中有哪些不同类型的事件？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14、解释一下Spring-AOP里面的几个名词："><span class="toc-text">14、解释一下Spring AOP里面的几个名词：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15、Spring通知有哪些类型？"><span class="toc-text">15、Spring通知有哪些类型？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Springmvc"><span class="toc-text">Springmvc</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、什么是Spring-MVC-？简单介绍下你对springMVC的理解"><span class="toc-text">1、什么是Spring MVC ？简单介绍下你对springMVC的理解?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、SpringMVC的流程？"><span class="toc-text">2、SpringMVC的流程？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、Springmvc的优点"><span class="toc-text">3、Springmvc的优点:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、Spring-MVC的主要组件？"><span class="toc-text">4、Spring MVC的主要组件？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、springMVC和struts2的区别有哪些"><span class="toc-text">5、springMVC和struts2的区别有哪些?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、SpringMVC怎么样设定重定向和转发的？"><span class="toc-text">6、SpringMVC怎么样设定重定向和转发的？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7、SpringMvc怎么和AJAX相互调用的？"><span class="toc-text">7、SpringMvc怎么和AJAX相互调用的？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8、如何解决POST请求中文乱码问题，GET的又如何处理呢？"><span class="toc-text">8、如何解决POST请求中文乱码问题，GET的又如何处理呢？</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#（1）解决post请求乱码问题："><span class="toc-text">（1）解决post请求乱码问题：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#（2）get请求中文参数出现乱码解决方法有两个："><span class="toc-text">（2）get请求中文参数出现乱码解决方法有两个：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9、Spring-MVC的异常处理-？"><span class="toc-text">9、Spring MVC的异常处理 ？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10、SpringMvc的控制器是不是单例模式-如果是-有什么问题-怎么解决？"><span class="toc-text">10、SpringMvc的控制器是不是单例模式,如果是,有什么问题,怎么解决？!!!</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11、-SpringMVC常用的注解有哪些？"><span class="toc-text">11、 SpringMVC常用的注解有哪些？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12、SpingMvc中的控制器的注解一般用那个-有没有别的注解可以替代？"><span class="toc-text">12、SpingMvc中的控制器的注解一般用那个,有没有别的注解可以替代？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13、如果在拦截请求中，我想拦截get方式提交的方法-怎么配置？"><span class="toc-text">13、如果在拦截请求中，我想拦截get方式提交的方法,怎么配置？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14、怎样在方法里面得到Request-或者Session？"><span class="toc-text">14、怎样在方法里面得到Request,或者Session？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15、如果想在拦截的方法里面得到从前台传入的参数-怎么得到？"><span class="toc-text">15、如果想在拦截的方法里面得到从前台传入的参数,怎么得到？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16、如果前台有很多个参数传入-并且这些参数都是一个对象的-那么怎么样快速得到这个对象？"><span class="toc-text">16、如果前台有很多个参数传入,并且这些参数都是一个对象的,那么怎么样快速得到这个对象？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17、SpringMvc中函数的返回值是什么？"><span class="toc-text">17、SpringMvc中函数的返回值是什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18、SpringMvc用什么对象从后台向前台传递数据的？"><span class="toc-text">18、SpringMvc用什么对象从后台向前台传递数据的？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19、怎么样把ModelMap里面的数据放入Session里面？"><span class="toc-text">19、怎么样把ModelMap里面的数据放入Session里面？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#20、SpringMvc里面拦截器是怎么写的："><span class="toc-text">20、SpringMvc里面拦截器是怎么写的：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21、注解原理："><span class="toc-text">21、注解原理：</span></a></li></ol></li></ol>
    </div>
  </section>


            
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
            
              <section class='widget grid'>
  
<header class='pure'>
  <div><i class="fas fa-map-signs fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;站内导航</div>
  
</header>

  <div class='content pure'>
    <ul class="grid navgation">
      
        <li><a class="flat-box" title="/" href="/"
          
          
          id="home">
          
            <i class="fas fa-clock fa-fw" aria-hidden="true"></i>
          
          近期文章
        </a></li>
      
        <li><a class="flat-box" title="/archives/" href="/archives/"
          
            rel="nofollow"
          
          
          id="archives">
          
            <i class="fas fa-archive fa-fw" aria-hidden="true"></i>
          
          文章归档
        </a></li>
      
        <li><a class="flat-box" title="/projects/" href="/projects/"
          
          
          id="projects">
          
            <i class="fas fa-code-branch fa-fw" aria-hidden="true"></i>
          
          开源项目
        </a></li>
      
        <li><a class="flat-box" title="/friends/" href="/friends/"
          
            rel="nofollow"
          
          
          id="friends">
          
            <i class="fas fa-link fa-fw" aria-hidden="true"></i>
          
          我的友链
        </a></li>
      
        <li><a class="flat-box" title="https://xaoxuu.com/wiki/material-x/" href="https://xaoxuu.com/wiki/material-x/"
          
            rel="nofollow"
          
          
          id="https:xaoxuu.comwikimaterial-x">
          
            <i class="fas fa-book fa-fw" aria-hidden="true"></i>
          
          主题文档
        </a></li>
      
        <li><a class="flat-box" title="/about/" href="/about/"
          
            rel="nofollow"
          
          
          id="about">
          
            <i class="fas fa-info-circle fa-fw" aria-hidden="true"></i>
          
          关于小站
        </a></li>
      
    </ul>
  </div>
</section>

            
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
            
              

            
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
            
              
  <section class='widget tagcloud'>
    
<header class='pure'>
  <div><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;Hot Tags</div>
  
    <a class="rightBtn"
    
      rel="nofollow"
    
    
    href="/tags/"
    title="tags/">
    <i class="fas fa-expand-arrows-alt fa-fw"></i></a>
  
</header>

    <div class='content pure'>
      <a href="/tags/Hibernate/" style="font-size: 14px; color: #999">Hibernate</a> <a href="/tags/IT/" style="font-size: 24px; color: #555">IT</a> <a href="/tags/IT-%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-Job-zookeeper/" style="font-size: 14px; color: #999">IT - 技术笔记 - Job - zookeeper</a> <a href="/tags/Java/" style="font-size: 14px; color: #999">Java</a> <a href="/tags/Job/" style="font-size: 24px; color: #555">Job</a> <a href="/tags/Kafka/" style="font-size: 14px; color: #999">Kafka</a> <a href="/tags/Linux/" style="font-size: 14px; color: #999">Linux</a> <a href="/tags/Mybatis/" style="font-size: 14px; color: #999">Mybatis</a> <a href="/tags/Redis/" style="font-size: 14px; color: #999">Redis</a> <a href="/tags/Spring/" style="font-size: 14px; color: #999">Spring</a> <a href="/tags/mysql/" style="font-size: 14px; color: #999">mysql</a> <a href="/tags/zookeeper/" style="font-size: 14px; color: #999">zookeeper</a> <a href="/tags/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/" style="font-size: 24px; color: #555">技术笔记</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 14px; color: #999">排序</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 20.67px; color: #6c6c6c">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 14px; color: #999">数据结构</a> <a href="/tags/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 17.33px; color: #828282">服务端开发</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 14px; color: #999">算法</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 14px; color: #999">网络</a>
    </div>
  </section>


            
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
            
              <section class='widget list'>
  
<header class='pure'>
  <div><i class="fas fa-thumbs-up fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;强烈推荐</div>
  
</header>

  <div class='content pure'>
    <ul class="entry">
      
        <li><a class="flat-box" title="https://xaoxuu.com/wiki/hexo.sh/" href="https://xaoxuu.com/wiki/hexo.sh/"
          
          
          >
          <div class='name'>
            
              <i class=" fa-fw" aria-hidden="true"></i>
            
            &nbsp;&nbsp;Hexo脚本（Mac）
          </div>
          
        </a></li>
      
        <li><a class="flat-box" title="https://xaoxuu.com/wiki/vim-cn.sh/" href="https://xaoxuu.com/wiki/vim-cn.sh/"
          
          
          >
          <div class='name'>
            
              <i class=" fa-fw" aria-hidden="true"></i>
            
            &nbsp;&nbsp;图床脚本（Mac）
          </div>
          
        </a></li>
      
        <li><a class="flat-box" title="https://yasuotu.com" href="https://yasuotu.com"
          
          
          >
          <div class='name'>
            
              <i class=" fa-fw" aria-hidden="true"></i>
            
            &nbsp;&nbsp;图片在线压缩
          </div>
          
        </a></li>
      
        <li><a class="flat-box" title="https://realfavicongenerator.net" href="https://realfavicongenerator.net"
          
          
          >
          <div class='name'>
            
              <i class=" fa-fw" aria-hidden="true"></i>
            
            &nbsp;&nbsp;生成Favicon
          </div>
          
        </a></li>
      
        <li><a class="flat-box" title="https://mxclub.github.io/resume/" href="https://mxclub.github.io/resume/"
          
          
          >
          <div class='name'>
            
              <i class=" fa-fw" aria-hidden="true"></i>
            
            &nbsp;&nbsp;简历主题
          </div>
          
        </a></li>
      
    </ul>
  </div>
</section>

            
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
    

  
</aside>

<footer id="footer" class="clearfix">
  
  
    <div class="social-wrapper">
      
        
          <a href="/atom.xml"
            class="social fas fa-rss flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="mailto:dmlys@live.com"
            class="social fas fa-envelope flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="https://github.com/ChanMango"
            class="social fab fa-github flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="https://music.163.com/#/user/home?id=118376074"
            class="social fas fa-headphones-alt flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
    </div>
  
  <br>
  <div><p>Blog content follows the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) License</a></p>
</div>
  <div>
    Use
    <a href="https://xaoxuu.com/wiki/material-x/" target="_blank" class="codename">Material X</a>
    as theme
    
      , 
      total visits
      <span id="busuanzi_value_site_pv"><i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span>
      times
    
    . 
  </div>
</footer>
<script>setLoadingBarProgress(80);</script>


      <script>setLoadingBarProgress(60);</script>
    </div>
    <a class="s-top fas fa-arrow-up fa-fw" href='javascript:void(0)'></a>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>

  <script>
    var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
    var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
    var ALGOLIA_API_KEY = "";
    var ALGOLIA_APP_ID = "";
    var ALGOLIA_INDEX_NAME = "";
    var AZURE_SERVICE_NAME = "";
    var AZURE_INDEX_NAME = "";
    var AZURE_QUERY_KEY = "";
    var BAIDU_API_ID = "";
    var SEARCH_SERVICE = "hexo" || "hexo";
    var ROOT = "/"||"/";
    if(!ROOT.endsWith('/'))ROOT += '/';
  </script>

<script src="//instant.page/1.2.2" type="module" integrity="sha384-2xV8M5griQmzyiY3CDqh1dn4z3llDVqZDqzjzcY+jCBCk/a5fXJmuZ/40JJAPeoU"></script>


  <script async src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.5/dist/scrollreveal.min.js"></script>
  <script type="text/javascript">
    $(function() {
      const $reveal = $('.reveal');
      if ($reveal.length === 0) return;
      const sr = ScrollReveal({ distance: 0 });
      sr.reveal('.reveal');
    });
  </script>


  <script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script>
  <script type="text/javascript">
    $(function() {
      Waves.attach('.flat-btn', ['waves-button']);
      Waves.attach('.float-btn', ['waves-button', 'waves-float']);
      Waves.attach('.float-btn-light', ['waves-button', 'waves-float', 'waves-light']);
      Waves.attach('.flat-box', ['waves-block']);
      Waves.attach('.float-box', ['waves-block', 'waves-float']);
      Waves.attach('.waves-image');
      Waves.init();
    });
  </script>


  <script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script>




  
  
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script>
    <script type="text/javascript">
      $(function(){
        if ('.cover') {
          $('.cover').backstretch(
          ["https://img.vim-cn.com/29/91197b04c13f512f734a76d4ac422d89dbe229.jpg"],
          {
            duration: "6000",
            fade: "2500"
          });
        } else {
          $.backstretch(
          ["https://img.vim-cn.com/29/91197b04c13f512f734a76d4ac422d89dbe229.jpg"],
          {
            duration: "6000",
            fade: "2500"
          });
        }
      });
    </script>
  











  <script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.9/js/app.js"></script>


  <script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.9/js/search.js"></script>




<!-- 复制 -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  let COPY_SUCCESS = "Copied";
  let COPY_FAILURE = "Copy failed";
  /*页面载入完成后，创建复制按钮*/
  !function (e, t, a) {
    /* code */
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '  <i class="fa fa-copy"></i><span>Copy</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });

      clipboard.on('success', function(e) {
        //您可以加入成功提示
        console.info('Action:', e.action);
        console.info('Text:', e.text);
        console.info('Trigger:', e.trigger);
        success_prompt(COPY_SUCCESS);
        e.clearSelection();
      });
      clipboard.on('error', function(e) {
        //您可以加入失败提示
        console.error('Action:', e.action);
        console.error('Trigger:', e.trigger);
        fail_prompt(COPY_FAILURE);
      });
    }
    initCopyCode();

  }(window, document);

  /**
   * 弹出式提示框，默认1.5秒自动消失
   * @param message 提示信息
   * @param style 提示样式，有alert-success、alert-danger、alert-warning、alert-info
   * @param time 消失时间
   */
  var prompt = function (message, style, time)
  {
      style = (style === undefined) ? 'alert-success' : style;
      time = (time === undefined) ? 1500 : time*1000;
      $('<div>')
          .appendTo('body')
          .addClass('alert ' + style)
          .html(message)
          .show()
          .delay(time)
          .fadeOut();
  };

  // 成功提示
  var success_prompt = function(message, time)
  {
      prompt(message, 'alert-success', time);
  };

  // 失败提示
  var fail_prompt = function(message, time)
  {
      prompt(message, 'alert-danger', time);
  };

  // 提醒
  var warning_prompt = function(message, time)
  {
      prompt(message, 'alert-warning', time);
  };

  // 信息提示
  var info_prompt = function(message, time)
  {
      prompt(message, 'alert-info', time);
  };

</script>


<!-- fancybox -->
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script>
  let LAZY_LOAD_IMAGE = "";
  $(".article-entry").find("fancybox").find("img").each(function () {
      var element = document.createElement("a");
      $(element).attr("data-fancybox", "gallery");
      $(element).attr("href", $(this).attr("src"));
      /* 图片采用懒加载处理时,
       * 一般图片标签内会有个属性名来存放图片的真实地址，比如 data-original,
       * 那么此处将原本的属性名src替换为对应属性名data-original,
       * 修改如下
       */
       if (LAZY_LOAD_IMAGE) {
         $(element).attr("href", $(this).attr("data-original"));
       }
      $(this).wrap(element);
  });
</script>





  <script>setLoadingBarProgress(100);</script>
</body>
</html>
